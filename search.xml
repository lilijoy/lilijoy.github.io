<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>CSS3与HTML5</title>
    <url>/2021/03/11/CSS3%E4%B8%8EHTML5/</url>
    <content><![CDATA[<h2 id="HTML5新特性"><a href="#HTML5新特性" class="headerlink" title="HTML5新特性"></a>HTML5新特性</h2><p>增加了一些新的标签、新的表单以及新的表单属性等</p>
<p>这些新特性都有兼容性问题，基本上IE9+以上版本浏览器才支持，如果不考虑兼容性问题，可以大量使用这些新特性</p>
<span id="more"></span>

<h3 id="新增语义化标签"><a href="#新增语义化标签" class="headerlink" title="新增语义化标签"></a>新增语义化标签</h3><ul>
<li><header>:头部标签</li>
<li><nav>:导航标签</li>
<li><article>:内容标签</li>
<li><section>：定义文档某个区域</li>
<li><aside>:侧边栏标签</li>
<li><footer>:尾部标签</li>
</ul>
<p>注意：</p>
<ul>
<li>这种语义化标签主要是针对搜索引擎的</li>
<li>这些新标签可以多次使用</li>
<li>IE9中，需要把这些标签转化为块级元素</li>
<li>移动端常用</li>
</ul>
<h3 id="新增的多媒体标签"><a href="#新增的多媒体标签" class="headerlink" title="新增的多媒体标签"></a>新增的多媒体标签</h3><p>新媒体标签主要包含两个：</p>
<ol>
<li>音频：<audio></li>
<li>视频：<video></li>
</ol>
<p>使用他们不需要flash和其他浏览器插件即可嵌入视频或者音频</p>
<p>video目前支持三种视频格式，mp4，WebbM，Ogg，一般推荐mp4格式，兼容性好</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;video src&#x3D;&quot;地址&quot; controls&#x3D;&quot;controls&quot;&gt;&lt;&#x2F;video&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;video src&#x3D;&quot;地址&quot; controls&#x3D;&quot;controls&quot; width&#x3D;&quot;300&quot;&gt;</span><br><span class="line">	&lt;source src&#x3D;&quot;move.mp4&quot; type&#x3D;&quot;video&#x2F;mp4&quot;&gt;</span><br><span class="line">	&lt;source src&#x3D;&quot;move.ogg&quot; type&#x3D;&quot;video&#x2F;ogg&quot;&gt;</span><br><span class="line">	你的浏览器暂时不支持&lt;video&gt;标签播放视频</span><br><span class="line">&lt;&#x2F;video&gt;</span><br></pre></td></tr></table></figure>

<p>常见属性</p>
<ul>
<li>src： 图片地址</li>
<li>autoplay=“autoplay” 视频就绪自动播放（谷歌浏览器禁用了自动播放）</li>
</ul>
<p>muted=”muted”静音播放，使用这个属性后谷歌浏览器也可以自动播放</p>
<ul>
<li>control=”controls”播放控件（播放、暂停、静音）</li>
<li>width: 100% 显示和浏览器一样宽</li>
<li>height</li>
<li>loop: 值为loop时循环播放，不写该属性则不循环</li>
<li>preload: auto预先加载视频，none不加载视频，如果有了autoplay忽略该属性</li>
<li>poster: 值imgurl，加载等待的图片画面（视频正在加载时显示的图片）</li>
<li>muted: muted静音播放</li>
</ul>
<p>一般不加controls，因为不同浏览器控件不同，后续可以用JS实现相同的控件</p>
<h4 id="新增input表单"><a href="#新增input表单" class="headerlink" title="新增input表单"></a>新增input表单</h4><p>type值：</p>
<p>原有text、password、submit等</p>
<blockquote>
<ul>
<li>email:</li>
<li>url</li>
<li>date</li>
<li>time</li>
<li>month</li>
<li>week</li>
<li>number</li>
<li>tel 手机号码</li>
<li>search 搜索框</li>
<li>color 生成一个颜色选择表单</li>
</ul>
</blockquote>
<p>type=”submit” value=”提交”为提交按钮，提交时会对其他输入检测</p>
<p>number、tel、search最重要</p>
<h4 id="HTML5新增的表单属性"><a href="#HTML5新增的表单属性" class="headerlink" title="HTML5新增的表单属性"></a>HTML5新增的表单属性</h4><ul>
<li>required=”required”     表示不能为空，必须写</li>
<li>placeholder=””: 默认显示的内容，输入一些文字后会消失</li>
</ul>
<p>还可以通过box::placeholder选择该属性并进行属性调整</p>
<ul>
<li>autofocus=“autofocus”: 自动获取焦点</li>
<li>autocomplete=off/on 记录上次提交过的内容，开始键入时显示以前输入过的</li>
<li>multiple：multiple 用于多选文件</li>
</ul>
<h3 id="广义的H5"><a href="#广义的H5" class="headerlink" title="广义的H5"></a>广义的H5</h3><p>广义的HTML5指的是HTML5本身+CSS3+JavaScript，这个集合有时称为HTML5和朋友，将来HTML5是一种发展趋势</p>
<h2 id="CSS3的现状"><a href="#CSS3的现状" class="headerlink" title="CSS3的现状"></a>CSS3的现状</h2><p>新增选择器和盒子模型和其他特性，ie9+才支持</p>
<h3 id="新的选择器"><a href="#新的选择器" class="headerlink" title="新的选择器"></a>新的选择器</h3><h4 id="属性选择器："><a href="#属性选择器：" class="headerlink" title="属性选择器："></a>属性选择器：</h4><ul>
<li><p>可以根据元素特定属性来选择元素，可以不用借助类或id选择</p>
<p>input[value] {color: pink;}                                   选择具有value属性的input</p>
<p>input[type=”text”]                            选择文本框的input（重要）</p>
<p>input[class^=”icon”]                                       选择具有class属性且属性值为icon开头的元素</p>
<p>input[class$=”-data”]                        选择具有class属性且以-data为结尾的元素</p>
<p>input[class*=”val”]                        选择出具有class属性且包含val的元素</p>
</li>
<li><p>类选择器、属性选择器、伪类选择器权重为10</p>
</li>
</ul>
<h4 id="结构伪类选择器"><a href="#结构伪类选择器" class="headerlink" title="结构伪类选择器"></a>结构伪类选择器</h4><ul>
<li><p>主要根据文档结构选择器元素，常用与根据父级选择器里面的元素</p>
<p>E:first-child                                选择父元素的第一个子元素</p>
<p>E:last-child                                选择父元素的最后一个子元素</p>
<p>E:nth-child(n)                            选择父元素的第n个子元素</p>
<p>E:first-of-type                            指定类型E的第一个</p>
<p>E:last-of-type                                指定类型E的最后一个</p>
<p>E:nth-of-type                                指定类型E的第n个</p>
</li>
<li><p>完整写法ul li:first-child  ul</p>
</li>
<li><p>nth-child给所有孩子排序，先看第几个孩子，再判断是否符合要求如果第一个孩子不是li则选不出来结果，优先看第几个孩子</p>
</li>
<li><p>nth-of-type会把指定元素的孩子排列序号，优先看类型，再看第几个孩子</p>
</li>
<li><p>n可以是数字关键字或者公式；                                                                                                                          n可以是关键字：even偶数odd奇数；直接写n表示每次加1往后计算；                                                       可以是公式：可以写2<em>n（偶数），2</em>n+1（奇数），5*n（一行显示5个时可以选择第五个去掉右边距），n+5（从第五个开始到最后），-n+5（前五个）</p>
</li>
<li><p>无序列表用nth-child更多</p>
</li>
<li><p>类选择器、属性选择器、伪类选择器权重为10</p>
</li>
</ul>
<h4 id="伪元素选择器"><a href="#伪元素选择器" class="headerlink" title="伪元素选择器"></a>伪元素选择器</h4><p>帮助我们利用css创建标签元素，而不需要HTML便签，从而简化HTML结构</p>
<p>CSS3时是两个冒号，CSS2前是单冒号</p>
<p>​    ::before                                             在元素的内部的前面插入内容</p>
<p>​    ::after                                             在元素的内部的后面插入内容</p>
<ul>
<li>before和after创建一个元素，但是是行内元素</li>
<li>装饰类的小图片可以用伪元素做，不需要插入新标签</li>
<li>新创建的元素在文档树中无法找到，所以称为伪元素</li>
<li>before和after必须有content属性</li>
<li>伪元素选择器和标签选择器的权重一样为1，div::before权重为2</li>
</ul>
<p>使用场景：</p>
<ol>
<li>配合字体图标</li>
</ol>
<p>content: ‘\e91e’</p>
<p>content: ‘’’’</p>
<p>content: ‘’也可以</p>
<ol>
<li>视频遮罩 .box::hover::before 鼠标经过时的before</li>
<li>伪元素清除浮动</li>
</ol>
<h3 id="CSS3盒子模型"><a href="#CSS3盒子模型" class="headerlink" title="CSS3盒子模型"></a>CSS3盒子模型</h3><p>CSS3可通过box-sizing指定盒模型，有两个值：即可指定为content-box、border-box,</p>
<ol>
<li>box-sizing: content-box 盒子大小为width+padding+border</li>
<li>box-sizing: border-box盒子大小为width</li>
</ol>
<p>这样使用padding和border就不会撑大盒子了（padding和border不要超过width）</p>
<p>经常在css开头*中加上border-sizing: border-box;</p>
<h3 id="CSS其他特性"><a href="#CSS其他特性" class="headerlink" title="CSS其他特性"></a>CSS其他特性</h3><p><strong>CSS3滤镜filter</strong></p>
<p>可以将模糊或者颜色偏移等图形效果应用于元素</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">filter: 函数(); </span><br></pre></td></tr></table></figure>

<p>例如filter: blur(5px)  可以让图像模糊，数值越大，图像越模糊</p>
<h5 id="CSS3-calc函数"><a href="#CSS3-calc函数" class="headerlink" title="CSS3 calc函数"></a>CSS3 calc函数</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">width: calc(100% - 80px);</span><br></pre></td></tr></table></figure>

<p>可以实现一些计算，可以实现比父盒子小多少像素</p>
<p>运算符前后要加空格</p>
<h5 id="CSS过渡"><a href="#CSS过渡" class="headerlink" title="CSS过渡"></a>CSS过渡</h5><p>过渡是CSS3具有颠覆性的特性之一，可以实现某些动画，经常与：hover一起使用</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">transition:要过渡的属性 花费时间 运动曲线 何时开始</span><br></pre></td></tr></table></figure>

<ol>
<li>属性：想要变化的CSS属性，宽度高度背景颜色等</li>
<li>花费时间：单位是秒</li>
<li>运动曲线：默认是ease（渐慢） linear（匀速）</li>
<li>何时开始：单位是秒，最迟延迟触发时间，默认是0s</li>
</ol>
<p>后两个属性可以省略</p>
<p>要同时改变两个属性,需要在类和类：hover中写变化前和变化后的属性值</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">transition: width .5s, height .5s</span><br><span class="line">transition: all 0.5s</span><br></pre></td></tr></table></figure>

<p>利用逗号分隔</p>
<h3 id="转换"><a href="#转换" class="headerlink" title="转换"></a>转换</h3><h3 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h3><p>见下一篇博客</p>
]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS3之变换与动画</title>
    <url>/2021/03/11/CSS3%E4%B9%8B%E5%8F%98%E6%8D%A2%E4%B8%8E%E5%8A%A8%E7%94%BB/</url>
    <content><![CDATA[<h2 id="2D转换"><a href="#2D转换" class="headerlink" title="2D转换"></a>2D转换</h2><p>转换是CSS3中具有颠覆性的特征之一，可以实现元素的位移、旋转、缩放等效果</p>
<p>转换可以简单理解为变形</p>
<span id="more"></span>

<ul>
<li>移动: translate</li>
<li>旋转：retate</li>
<li>缩放：scale</li>
</ul>
<blockquote>
<p>过渡效果是transition: all 0.3s;</p>
</blockquote>
<h3 id="translate"><a href="#translate" class="headerlink" title="translate"></a>translate</h3><p>二维坐标系：向右向下为正</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">transform: translate(x,y)</span><br><span class="line">transform: translateX(x)</span><br><span class="line">transform: translateY(y)</span><br></pre></td></tr></table></figure>

<ul>
<li>x是x轴上移动位置，y是y轴移动位置</li>
<li>translate不会影响其他元素位置</li>
<li>百分比单位是相对自身元素的</li>
<li>对<strong>行内标签无效</strong></li>
<li>在子盒子想要定位到父盒子中间时，可以定位top%50,left50%,然后translate(50%,50%)</li>
</ul>
<h3 id="rotate"><a href="#rotate" class="headerlink" title="rotate"></a>rotate</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">transform: rotate(360deg)</span><br></pre></td></tr></table></figure>

<ul>
<li>可以用来实现小三角&gt;&lt;朝上朝下(小正方形只要两个边框，旋转)</li>
<li>度数逆时针为正</li>
</ul>
<h3 id="转换中心点-transform-origin"><a href="#转换中心点-transform-origin" class="headerlink" title="转换中心点 transform-origin"></a>转换中心点 transform-origin</h3><p>默认为50 % 50%</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">transform-origin: x y;</span><br></pre></td></tr></table></figure>

<p>x y可以是像素、百分比、方位名词</p>
<h3 id="缩放scale"><a href="#缩放scale" class="headerlink" title="缩放scale"></a>缩放scale</h3><p>可以实现放大缩小</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">transform:scale(x,y);</span><br><span class="line">transform:scale(x);</span><br></pre></td></tr></table></figure>

<p>x,y表示倍数，1表示一倍,只写一个表示同时x倍</p>
<ul>
<li>不会影响其他盒子，而且可以设置缩放中心点</li>
<li>缩放是向四周缩放的，比直接改宽高更适合做动画</li>
</ul>
<h3 id="综合写法"><a href="#综合写法" class="headerlink" title="综合写法"></a>综合写法</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">transform: translate() rotate() scale()</span><br></pre></td></tr></table></figure>

<ul>
<li>先旋转会改变坐标轴方向</li>
<li>先同时有位移和其他效果时，位移放在最前面</li>
</ul>
<h2 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h2><p>可以通过设置多个节点来精确控制一个或者一组动画，实现复杂的动画效果</p>
<ul>
<li>先定义动画</li>
<li>再调用动画</li>
</ul>
<h3 id="用keyframes定义动画"><a href="#用keyframes定义动画" class="headerlink" title="用keyframes定义动画"></a>用keyframes定义动画</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@keyframes move &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        transform: translateX(0px);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    100% &#123;</span><br><span class="line">        transform: translateX(1000px);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">使用的元素 &#123;</span><br><span class="line">    animation-name: move;</span><br><span class="line">    animation-duration: 2s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>from to等同于0%,100%</li>
<li>可以做多个状态的变化，百分比要是正数，100%的时候是总时间</li>
</ul>
<h4 id="动画属性"><a href="#动画属性" class="headerlink" title="动画属性"></a>动画属性</h4><ul>
<li>animation: 动画属性的简写属性</li>
<li>animation-name: 动画名字</li>
<li>animation-duration: 持续时间</li>
<li>animation-timing-function: 规定动画的速度曲线，默认是’ease’</li>
<li>animation-delay: 规定动画何时开始，单位是秒</li>
<li>animation-iteration-count: 规定动画被播放的次数infinite表示无限循环</li>
<li>animation-direction: 规定动画</li>
<li>animation-direction: 默认是normal反方向是alternate</li>
<li>animation-play-state: 规定动画是否正在运行或者暂停，默认是running,pause</li>
<li>animation-fill-mode: 规定动画结束后状态，保持forwards回到起始backwards</li>
</ul>
<p>简写</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">annimation: 动画名称 持续时间 运动曲线 何时开始 播放次数 是否反方向 动画起始或者结束的状态</span><br><span class="line">annimation: myfirst 5s linear 2s infinite alternate;</span><br></pre></td></tr></table></figure>

<p>前两个不能省略</p>
<h4 id="速度曲线细节"><a href="#速度曲线细节" class="headerlink" title="速度曲线细节"></a>速度曲线细节</h4><p>animation-timing-function:</p>
<ul>
<li>linear 匀速</li>
<li>ease 低–&gt;高–&gt;低</li>
<li>ease-in 低速开始</li>
<li>ease-out 低速结束</li>
<li>ease-in-out 低速开始和结束</li>
<li>steps()指定了时间函数中的间隔数量(步长)，相当于一步一步走，离散化</li>
</ul>
<p>–可以通过设定一个盒子，装n个字，宽度为n个字的宽度，并且分n步，设定一行显示和溢出隐藏，即可实现打字机效果</p>
<h3 id="动画实例"><a href="#动画实例" class="headerlink" title="动画实例"></a>动画实例</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">    background-color: rgb(163, 151, 229);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    width: 200px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">    background: url(bear.png) no-repeat;</span><br><span class="line"></span><br><span class="line">    animation: run 1s steps(8) infinite, move 3s forwards;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes run &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        background-position: 0 0;</span><br><span class="line">        &#x2F;* transform: translate(0, 0); *&#x2F;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    100% &#123;</span><br><span class="line">        background-position: -1600px 0;</span><br><span class="line">        &#x2F;* transform: translate(-1400px, 0); *&#x2F;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes move &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        left: 0;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    100% &#123;</span><br><span class="line">        left: 50%;</span><br><span class="line">        transform: translate(-50%);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="D:\桌面\web\bear.png"></p>
<h2 id="3D变换"><a href="#3D变换" class="headerlink" title="3D变换"></a>3D变换</h2><p>x水平向右y垂直向下z垂直屏幕（往外是正值，往内是负值）</p>
<h3 id="3D位移"><a href="#3D位移" class="headerlink" title="3D位移"></a>3D位移</h3><p>translateZ沿着z轴运动，后面的单位一般跟px</p>
<p>translate3d(100px,100px,100px) 不能省略x，y，z，如果没有就写0</p>
<p>z轴值越大，我们看到的物体越大</p>
<h3 id="透视perspective"><a href="#透视perspective" class="headerlink" title="透视perspective"></a>透视perspective</h3><p>网页中产生3D效果需要透视，透视也称为视距(人的眼睛到屏幕的距离)，透视的单位是像素</p>
<p>透视要加在父亲上</p>
<p>perspective: 500px;</p>
<h3 id="3D旋转rotate"><a href="#3D旋转rotate" class="headerlink" title="3D旋转rotate"></a>3D旋转rotate</h3><p>transform: rotate3d(x,y,z,deg):沿着自定义轴旋转deg</p>
<p>(x,y,z)可以表示轴的方向</p>
<p>transformX:</p>
<p>transformY：</p>
<p>transformZ：</p>
<p>左手准则，大拇指指向x正向，则四指指向翻转方向</p>
<h3 id="3D呈现transform-style"><a href="#3D呈现transform-style" class="headerlink" title="3D呈现transform-style"></a>3D呈现transform-style</h3><ul>
<li>控制子元素是否开启三维立体空间</li>
<li>默认flat不开启3D</li>
<li>transform-style: preserve-3D子元素开启3D立体空间</li>
<li>代码写给父级，影响的是子盒子</li>
</ul>
<h3 id="实现双面盒子"><a href="#实现双面盒子" class="headerlink" title="实现双面盒子"></a>实现双面盒子</h3><ul>
<li>两个盒子叠在一起放在一个父盒子里，先将背面盒子旋转180，再将父盒子旋转180，记得维持3D效果</li>
<li>多个transform记得放在一起</li>
<li>要让旋转轴在中间</li>
</ul>
<h3 id="实现旋转木马"><a href="#实现旋转木马" class="headerlink" title="实现旋转木马"></a>实现旋转木马</h3><ul>
<li>先旋转后移动</li>
</ul>
]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS高级技巧</title>
    <url>/2021/03/11/CSS%E9%AB%98%E7%BA%A7%E6%8A%80%E5%B7%A7/</url>
    <content><![CDATA[<h3 id="精灵图"><a href="#精灵图" class="headerlink" title="精灵图"></a>精灵图</h3><h4 id="为什么需要精灵图"><a href="#为什么需要精灵图" class="headerlink" title="为什么需要精灵图"></a>为什么需要精灵图</h4><p>有效减少服务器接收和发送请求的次数，提高页面的加载速度，出现了CSS精灵技术（也称）CSS Sprites、CSS雪碧）</p>
<p>核心原理：将网页中一些小背景图像整合到一张大图中，这样只需要一次请求即可</p>
<p>使用精灵图：使用background-position属性，移动的是这个目标图片的x和y坐标</p>
<span id="more"></span>

<p>精灵图使用：</p>
<ol>
<li>使用ps切片选择需要的切片</li>
<li>找到w、h、x、y属性，用css实现</li>
</ol>
<p>缺点</p>
<ol>
<li>图片文件比较大</li>
<li>图片本身放大缩小会失真</li>
<li>一旦图片制作完毕想要更换比较复杂</li>
</ol>
<h3 id="字体图标"><a href="#字体图标" class="headerlink" title="字体图标"></a>字体图标</h3><p>字体图标iconfont，展示的是图片，本质是文字</p>
<p>优点</p>
<ol>
<li>轻量级：比图像小，随字体加载出来，减少了服务器请求</li>
<li>灵活性：可以改变颜色、阴影、透明效果、旋转等</li>
<li>兼容性：几乎支持所有浏览器</li>
</ol>
<p>不能替代精灵技术，只是对工作中图标部分技术的提升和优化</p>
<h4 id="字体图标的下载"><a href="#字体图标的下载" class="headerlink" title="字体图标的下载"></a>字体图标的下载</h4><p><a href="http://icomoon.io/">http://icomoon.io</a></p>
<p><a href="http://www.iconfont.cn/">http://www.iconfont.cn/</a></p>
<h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@font-face &#123;</span><br><span class="line">  font-family: &#39;icomoon&#39;;</span><br><span class="line">  src:  url(&#39;fonts&#x2F;icomoon.eot?cv7dvn&#39;);</span><br><span class="line">  src:  url(&#39;fonts&#x2F;icomoon.eot?cv7dvn#iefix&#39;) format(&#39;embedded-opentype&#39;),</span><br><span class="line">    url(&#39;fonts&#x2F;icomoon.ttf?cv7dvn&#39;) format(&#39;truetype&#39;),</span><br><span class="line">    url(&#39;fonts&#x2F;icomoon.woff?cv7dvn&#39;) format(&#39;woff&#39;),</span><br><span class="line">    url(&#39;fonts&#x2F;icomoon.svg?cv7dvn#icomoon&#39;) format(&#39;svg&#39;);</span><br><span class="line">  font-weight: normal;</span><br><span class="line">  font-style: normal;</span><br><span class="line">  font-display: block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用的元素中声明font-family: “icomoon”</p>
<h4 id="字体图标的追加"><a href="#字体图标的追加" class="headerlink" title="字体图标的追加"></a>字体图标的追加</h4><ol>
<li>把压缩包里的selection.json在网页里打开</li>
<li>选择新的图标</li>
<li>重新下载</li>
</ol>
<h3 id="CSS三角"><a href="#CSS三角" class="headerlink" title="CSS三角"></a>CSS三角</h3><p>让盒子的长宽为0，四个边框不为0，则会生成一个正方形其中四个三角形</p>
<p>–&gt;将其中一个边框设定颜色，其他位transparant，就会出现单独的三角形</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">div&#123;</span><br><span class="line">    width: 0;</span><br><span class="line">    height: 0;</span><br><span class="line">    line-height: 0;</span><br><span class="line">    font-size: 0;</span><br><span class="line">    border: 50px solid transparent;</span><br><span class="line">    border-left-color: pink;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>行高和字体大小是为了兼容性</p>
<h3 id="CSS用户界面样式"><a href="#CSS用户界面样式" class="headerlink" title="CSS用户界面样式"></a>CSS用户界面样式</h3><h4 id="鼠标样式"><a href="#鼠标样式" class="headerlink" title="鼠标样式"></a>鼠标样式</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">li &#123;cursor: pointer&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>default: 小白箭头 默认</li>
<li>pointer：小手</li>
<li>move：移动</li>
<li>text：文字</li>
<li>not-allowed：禁止</li>
</ul>
<h4 id="轮廓线"><a href="#轮廓线" class="headerlink" title="轮廓线"></a>轮廓线</h4><p>默认选中输入（input/textarea标签）框的时候，会有个蓝色的外框线</p>
<p>给表单添加outline:0/none</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">input&#123;outline:0 ;&#125;</span><br></pre></td></tr></table></figure>

<h4 id="防止拖拽文本域"><a href="#防止拖拽文本域" class="headerlink" title="防止拖拽文本域"></a>防止拖拽文本域</h4><p>默认文本框（textarea）拖动右下角是可以拉大的，会影响布局</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">textarea&#123;resize: none;&#125;</span><br></pre></td></tr></table></figure>

<p>文本框的前标签和后标签应放在同一行，使光标在左上角，可以通过加padding改变位置</p>
<h4 id="vertical-align使用"><a href="#vertical-align使用" class="headerlink" title="vertical-align使用"></a>vertical-align使用</h4><p>经常用于设置图片或者表单和文字垂直对齐</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vertical-align :baseline |top |middle |bottom</span><br></pre></td></tr></table></figure>

<ul>
<li>baseline：默认，元素放置在父元素的基线上</li>
<li>top： 元素的顶端和行中最高元素的顶端对齐</li>
<li>middle：把元素放置在父元素中部</li>
<li>bottom： 把元素的顶端与行中最低的元素顶端对齐</li>
</ul>
<p>块级元素无法使用veritcal-align，有时需要先把块级元素转化为行内块元素</p>
<h4 id="图片底部空白缝隙"><a href="#图片底部空白缝隙" class="headerlink" title="图片底部空白缝隙"></a>图片底部空白缝隙</h4><p>原因是行内块元素会和文字基线对齐</p>
<ol>
<li>给图片添加vertial-align: middle |top |bottom（推荐）</li>
<li>把图片转换成块级元素display:block</li>
</ol>
<h4 id="溢出的文字省略号"><a href="#溢出的文字省略号" class="headerlink" title="溢出的文字省略号"></a>溢出的文字省略号</h4><ol>
<li>单行文本溢出</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">white-space: nowrap;</span><br><span class="line">overflow: hidden;</span><br><span class="line">text-overflow: ellipsis;</span><br></pre></td></tr></table></figure>

<p>强制一行显示–&gt;超出的部分隐藏–&gt;文字用省略号替代超出的部分</p>
<ol>
<li>多行文本溢出</li>
</ol>
<p>有较大兼容性问题，适合于WebKit浏览器（谷歌）或移动端（移动端大多数是webkit内核）</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">overflow: hidden;</span><br><span class="line">text-overflow: ellipsis;</span><br><span class="line">display: -webkit-box;</span><br><span class="line">-webkit-line-clamp: 2;</span><br><span class="line">-webkit-box-orient: vertical;</span><br></pre></td></tr></table></figure>

<h3 id="常见布局技巧"><a href="#常见布局技巧" class="headerlink" title="常见布局技巧"></a>常见布局技巧</h3><h4 id="margin负值："><a href="#margin负值：" class="headerlink" title="margin负值："></a>margin负值：</h4><p>可以用于解决相邻盒子边框重叠后变粗的问题</p>
<p>float要放在margin：-1前面</p>
<p>当鼠标经过时改变边框颜色，会出现边框被其他边框压住的问题</p>
<p>–&gt;如果没有定位，加相对定位，如果有定位，则加z-index提高层级</p>
<h4 id="文字围绕浮动元素"><a href="#文字围绕浮动元素" class="headerlink" title="文字围绕浮动元素"></a>文字围绕浮动元素</h4><p>浮动元素周围的文字会自动围绕该元素，可以用于实现左图右文字的模块或者新闻中图片样式</p>
<h4 id="行内块元素巧妙应用"><a href="#行内块元素巧妙应用" class="headerlink" title="行内块元素巧妙应用"></a>行内块元素巧妙应用</h4><p>页码的布局</p>
<p>行内块默认有大小，且自带距离，使用text-align：center即可水平居中对齐</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- 给父亲添加text-align:center即可实现所有子元素水平居中 --&gt;</span><br><span class="line">.box &#123;</span><br><span class="line">    text-align: center</span><br><span class="line">&#125;</span><br><span class="line">.box a&#123;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    width: 36px;</span><br><span class="line">    height:36px;</span><br><span class="line">    background-color: #f7f7f7;</span><br><span class="line">    border: 1px solid #ccc;</span><br><span class="line">    text-align: center;</span><br><span class="line">    line-height: 36px;</span><br><span class="line">    text-decoration: 36px;</span><br><span class="line">    color: #333;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="三角的巧妙应用"><a href="#三角的巧妙应用" class="headerlink" title="三角的巧妙应用"></a>三角的巧妙应用</h4><p>实现某些价格标签中的斜三角</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.box &#123;</span><br><span class="line">    width: 0;</span><br><span class="line">    height: 0;</span><br><span class="line">    &#x2F;* 只保留右边边框 *&#x2F;</span><br><span class="line">    border-color: transparent red transparent transparent;</span><br><span class="line">    border-style: solid;</span><br><span class="line">    &#x2F;* 上大右小 *&#x2F;</span><br><span class="line">    border-width: 22px 8px 0 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="CSS初始化"><a href="#CSS初始化" class="headerlink" title="CSS初始化"></a>CSS初始化</h4><p>不同浏览器对某些标签的默认值是不同的，为了清除不同浏览器对html文本呈现的差异，照顾浏览器的兼容性，需要初始化</p>
<p>Unicode编码字体：</p>
<p>把中文字体的名称用相应的unicode编码代替，有效的避免浏览器解释css代码时出现乱码</p>
<p>“5B8B\4F53”表示宋体/黑体</p>
<p>京东初始化代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;* 把我们所有标签的内外边距清零 *&#x2F;</span><br><span class="line">* &#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* em 和 i 斜体的文字不倾斜 *&#x2F;</span><br><span class="line">em,</span><br><span class="line">i &#123;</span><br><span class="line">    font-style: normal;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* 去掉li 的小圆点 *&#x2F;</span><br><span class="line">li &#123;</span><br><span class="line">    list-style: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">img &#123;</span><br><span class="line">    &#x2F;* border 0 照顾低版本浏览器 如果 图片外面包含了链接会有边框的问题 *&#x2F;</span><br><span class="line">    border: 0;</span><br><span class="line">    &#x2F;* 取消图片底侧有空白缝隙的问题 *&#x2F;</span><br><span class="line">    vertical-align: middle;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">button &#123;</span><br><span class="line">    &#x2F;* 当我们鼠标经过button 按钮的时候，鼠标变成小手 *&#x2F;</span><br><span class="line">    cursor: pointer</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a &#123;</span><br><span class="line">    color: #666;</span><br><span class="line">    text-decoration: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a:hover &#123;</span><br><span class="line">    color: #c81623;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">button,</span><br><span class="line">input &#123;</span><br><span class="line">    &#x2F;* &quot;\5B8B\4F53&quot; 就是宋体的意思 这样浏览器兼容性比较好 *&#x2F;</span><br><span class="line">    font-family: Microsoft YaHei, Heiti SC, tahoma, arial, Hiragino Sans GB, &quot;\5B8B\4F53&quot;, sans-serif;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">body &#123;</span><br><span class="line">    &#x2F;* CSS3 抗锯齿形 让文字显示的更加清晰 *&#x2F;</span><br><span class="line">    -webkit-font-smoothing: antialiased;</span><br><span class="line">    background-color: #fff;</span><br><span class="line">    font: 12px&#x2F;1.5 Microsoft YaHei, Heiti SC, tahoma, arial, Hiragino Sans GB, &quot;\5B8B\4F53&quot;, sans-serif;</span><br><span class="line">    color: #666;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.hide,</span><br><span class="line">.none &#123;</span><br><span class="line">    display: none;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* 清除浮动 *&#x2F;</span><br><span class="line">.clearfix:after &#123;</span><br><span class="line">    visibility: hidden;</span><br><span class="line">    clear: both;</span><br><span class="line">    display: block;</span><br><span class="line">    content: &quot;.&quot;;</span><br><span class="line">    height: 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.clearfix &#123;</span><br><span class="line">    *zoom: 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS基础</title>
    <url>/2021/03/11/CSS%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<p>CSS基础</p>
<span id="more"></span>

<h3 id="CSS元素显示模式"><a href="#CSS元素显示模式" class="headerlink" title="CSS元素显示模式"></a>CSS元素显示模式</h3><h5 id="块元素"><a href="#块元素" class="headerlink" title="块元素"></a>块元素</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;h1&gt;~&lt;h6&gt;、&lt;p&gt;、&lt;div&gt;、&lt;ul&gt;、&lt;ol&gt;、&lt;li&gt;</span><br></pre></td></tr></table></figure>

<p>独占一行、可以控制宽度高度内外边距、宽度默认是父级宽度的百分之百、里面可以放行内或块级元素</p>
<p>和<h>不能放其他块级元素

<h5 id="行内元素"><a href="#行内元素" class="headerlink" title="行内元素"></a>行内元素</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;a&gt; &lt;strong&gt; &lt;b&gt; &lt;em&gt; &lt;i&gt; &lt;del&gt; &lt;s&gt; &lt;ins&gt; &lt;u&gt; &lt;span&gt;</span><br></pre></td></tr></table></figure>

<p>一行可以显示多个、无法直接设置宽、高，默认宽度是它内容的宽度，只能容纳文本和其他行内元素</p>
<p>特殊情况连接可以放块级元素，但是转换一个块级模式更加安全</p>
<h5 id="行内块元素"><a href="#行内块元素" class="headerlink" title="行内块元素"></a>行内块元素</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;img&gt; &lt;input&#x2F;&gt; &lt;td&gt;</span><br></pre></td></tr></table></figure>

<p>一行可以显示多个、默认宽度是内容的宽度、高宽和内外边距可以控制</p>
<h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><h4 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h4><table>
<thead>
<tr>
<th>属性</th>
<th>意义</th>
<th>值</th>
</tr>
</thead>
<tbody><tr>
<td>background-color</td>
<td>背景颜色</td>
<td>预定义颜色值/十六进制/RGB代码</td>
</tr>
<tr>
<td>background-image</td>
<td>背景图片</td>
<td>url(图片路径)</td>
</tr>
<tr>
<td>background-repeat</td>
<td>是否平铺</td>
<td>repeat/no-repeat/repeat-x/repeat-y</td>
</tr>
<tr>
<td>background-position</td>
<td>背景位置</td>
<td>分别是x和y坐标，可以为固定值也可是center，top</td>
</tr>
<tr>
<td>background-attachment</td>
<td>背景是否滚动</td>
<td>fixed（背景固定）/scroll（背景滚动）</td>
</tr>
<tr>
<td>background-size</td>
<td>背景大小</td>
<td>固定/相对(x y)/cover（填满容器)/contain（至少一端满)</td>
</tr>
</tbody></table>
<blockquote>
<ul>
<li>简写：background: 背景颜色 背景图片地址 背景平铺 背景图像滚动 背景图片位置</li>
<li>装饰性小图片和超大背景图片经常使用背景图片来做，方便控制位置</li>
</ul>
</blockquote>
<h4 id="背景颜色半透明"><a href="#背景颜色半透明" class="headerlink" title="背景颜色半透明"></a>背景颜色半透明</h4><blockquote>
<p>background :rgba(0,0,0,0.3);</p>
<p>最后一个参数是alpha透明度，取值在(0,1)之间，0.3前的0可以省略</p>
<p>背景半透明是指盒子背景半透明，盒子里面内容不受影响</p>
</blockquote>
<h3 id="CSS三大特性"><a href="#CSS三大特性" class="headerlink" title="CSS三大特性"></a>CSS三大特性</h3><h4 id="层叠性"><a href="#层叠性" class="headerlink" title="层叠性"></a>层叠性</h4><p>解决样式冲突的问题，遵循就近原则，哪个样式离结构近，执行哪一个</p>
<h4 id="继承性"><a href="#继承性" class="headerlink" title="继承性"></a>继承性</h4><ul>
<li>子标签会继承父标签的某些特性</li>
<li>text- font- line- color属性会继承</li>
<li>行高的继承</li>
</ul>
<blockquote>
<p>父元素 font:24px/1.5 “微软雅黑”  表示行高为当前元素1.5倍</p>
<p>子元素 font:16px</p>
<p>行高也是当前元素1.5倍,即16*1.5=24px</p>
<p>子元素2 未指定文字大小</p>
<p>继承父元素的文字大小和行高，即24px/1.5</p>
</blockquote>
<h4 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h4><ol>
<li>选择器相同，则执行层叠</li>
<li>选择器不同，根据选择器权重进行</li>
</ol>
<blockquote>
<p>继承或者*  0,0,0,0</p>
<p>元素选择器   0,0,0,1</p>
<p>类选择器，伪类选择器 0,0,1,0</p>
<p>ID选择器 0,1,0,0</p>
<p>行内样式 1,0,0,0</p>
<p>!important 无穷大</p>
</blockquote>
<ol>
<li>等级判断从左到右，如果哪一位数值相同，则依次判断下一位</li>
<li>继承的权重是0，不管父元素权重多高，子元素得到的权重都是0</li>
<li>对body指定颜色不会改变文中链接的颜色，因为浏览器有默认颜色即蓝色</li>
<li>复合选择器会有<strong>权重叠加</strong>的问题,但是不会进位                                                                                                ul li权重为0,0,0,2 .nav li权重为0,0,1,1</li>
</ol>
<hr>
<h3 id="盒子模型"><a href="#盒子模型" class="headerlink" title="盒子模型"></a>盒子模型</h3><p>HTML页面的布局本质是一个个盒子</p>
<p>border: 边框</p>
<p>content：内容，可以是文字图片或者其他的盒子</p>
<p>padding：内边距，内容和边框的距离</p>
<p>margin：外边距，不同盒子间的距离</p>
<h4 id="边框-border"><a href="#边框-border" class="headerlink" title="边框(border)"></a>边框(border)</h4><p>border: border-width ||border-style ||border-color</p>
<p>定义边框粗细、样式、颜色</p>
<p>border-style: solid 实线边框  dashed：虚线边框  dotted：点线边框</p>
<p><code>border: 1px solid red;</code> </p>
<p>没有顺序要求</p>
<p>border-top border-bottom上边框 下边框</p>
<h5 id="表格细线边框"><a href="#表格细线边框" class="headerlink" title="表格细线边框"></a>表格细线边框</h5><p>border-collapse: collapse </p>
<p>相邻边框合并一起</p>
<h5 id="边框会影响盒子的大小"><a href="#边框会影响盒子的大小" class="headerlink" title="边框会影响盒子的大小"></a>边框会影响盒子的大小</h5><p>width不包括border-width</p>
<p>实际宽度=width+border-width</p>
<h4 id="内边距-padding"><a href="#内边距-padding" class="headerlink" title="内边距(padding)"></a>内边距(padding)</h4><p>padding-left/padding-right/padding-top/padding-bottom</p>
<p>调整边框与内容距离</p>
<p>padding:5px 表示上下左右各5像素内边距</p>
<p>padding:5px 10px上下5px，左右10px</p>
<p>padding：5px，10px，15px  上/左右/下</p>
<p>四个值 上/右/下/左</p>
<h5 id="paddding会影响实际盒子大小"><a href="#paddding会影响实际盒子大小" class="headerlink" title="paddding会影响实际盒子大小"></a>paddding会影响实际盒子大小</h5><p>如果盒子没有指定高度/宽度，padding不会撑开盒子</p>
<h4 id="外边距（margin"><a href="#外边距（margin" class="headerlink" title="外边距（margin)"></a>外边距（margin)</h4><p>margin-left/margin-right/margin-top/margin-bottom</p>
<p>外边距可以让块级盒子<strong>水平居中</strong>，必须满足</p>
<ul>
<li>盒子指定了宽度</li>
<li>盒子左右的外边距都设置为auto</li>
</ul>
<p>margin: auto;</p>
<p>margin: 0 auto;（最常用)</p>
<p><strong>行内元素和行内块元素水平居中</strong>直接给父元素添加text-align:center</p>
<h5 id="嵌套块元素垂直外边距的塌陷"><a href="#嵌套块元素垂直外边距的塌陷" class="headerlink" title="嵌套块元素垂直外边距的塌陷"></a>嵌套块元素垂直外边距的塌陷</h5><p>对于两个嵌套关系的块元素，父元素的有下外边距，子元素有上外边距，会塌陷为较大的边距</p>
<p>解决方法:</p>
<ul>
<li>可以为父元素定义上边框 border: 1px solid transparent</li>
<li>可以为父元素定义上内边距</li>
<li>可以为父元素添加overflow:hidden</li>
</ul>
<h5 id="清除内外边距"><a href="#清除内外边距" class="headerlink" title="清除内外边距"></a>清除内外边距</h5><p>*{margin:0;padding:0}</p>
<p>布局前，应该先清除网页元素的内外边距</p>
<p>行内元素尽量只设置左右内外边距，不要设置上下内外边距，但是转换为块级和行内块级就可以了</p>
<hr>
<p>list-style: none; </p>
<p>去掉无序列表前的小圆点</p>
<h3 id="圆角边框"><a href="#圆角边框" class="headerlink" title="圆角边框"></a>圆角边框</h3><p>border-radius: length;</p>
<p>如10px或%50</p>
<ol>
<li>length为正方形的长度一半时，显示为圆形</li>
<li>length为矩形的高度一半时，显示为圆角矩形</li>
<li>最多可以四个值，分别为左上右上右下坐下</li>
</ol>
<h3 id="盒子阴影"><a href="#盒子阴影" class="headerlink" title="盒子阴影"></a>盒子阴影</h3><p>box-shadow: h-shadow v-shadow blue spread color inset</p>
<ol>
<li>前两个必须写，其他可选</li>
<li>水平阴影、垂直阴影（可以正负，相对主体的偏移距离)、模糊距离（虚实)、阴影尺寸、阴影颜色、外部阴影</li>
<li>阴影颜色通常不用黑色，可以用rgba(0,0,0,.3)的操作，透明度为30的黑色</li>
<li>默认是外阴影，只能写inset，不能写外阴影</li>
<li>阴影不占用盒子空间</li>
</ol>
<h4 id="文字阴影"><a href="#文字阴影" class="headerlink" title="文字阴影"></a>文字阴影</h4><p>text-shadow: h-shadow v-shadow -blur color</p>
<hr>
<h3 id="浮动"><a href="#浮动" class="headerlink" title="浮动"></a>浮动</h3><h4 id="传统网页布局的三种方式"><a href="#传统网页布局的三种方式" class="headerlink" title="传统网页布局的三种方式"></a>传统网页布局的三种方式</h4><p>实际开发中，一个页面基本包含了<strong>三种</strong>布局方式</p>
<p>多个块级元素纵向排列用标准流，多个块级元素横向排列用浮动</p>
<ul>
<li>标准流（普通流/文档流)</li>
</ul>
<p>标签按照规定好默认方式排列</p>
<ul>
<li>浮动</li>
</ul>
<p>可以改变默认的排列方式</p>
<ul>
<li>定位</li>
</ul>
<h4 id="浮动特性"><a href="#浮动特性" class="headerlink" title="浮动特性"></a>浮动特性</h4><ul>
<li>浮动后脱离标准流的控制移动到指定位置（脱标），浮动的盒子不再保留原先的位置</li>
<li>如果多个盒子设置了浮动，他们会按照属性值一行内显示并且顶端对齐排列</li>
<li>浮动元素会具有行内块特性，可以设定高度宽度，没写宽度时为内容宽度</li>
<li>浮动的盒子没有外边距合并的问题</li>
</ul>
<h4 id="浮动元素经常和标准流父级搭配使用"><a href="#浮动元素经常和标准流父级搭配使用" class="headerlink" title="浮动元素经常和标准流父级搭配使用"></a>浮动元素经常和标准流父级搭配使用</h4><p>先用标准流的父元素排列上下位置，之后内部子元素采用浮动排列左右位置，符合网页布局第一准则</p>
<p>先设置盒子大小，再设置盒子位置</p>
<p>标准流独占一行，不会被后面的浮动盒子影响，但如果前面盒子浮动，会上移</p>
<h4 id="清除浮动"><a href="#清除浮动" class="headerlink" title="清除浮动"></a>清除浮动</h4><p>清除浮动后，父级就会根据子盒子自动检测高度。父级有了高度后就不会影响下面的标准流。</p>
<p>选择器{clear:属性值;}</p>
<p>left/right/both</p>
<p>本质是清除浮动元素脱离标准流造成的影响</p>
<p>为什么要清除浮动</p>
<ul>
<li>父级没高度</li>
<li>子盒子浮动了</li>
<li>影响下面布局了</li>
</ul>
<h5 id="清除浮动方法"><a href="#清除浮动方法" class="headerlink" title="清除浮动方法"></a>清除浮动方法</h5><ul>
<li>额外标签法，也称隔墙法</li>
</ul>
<p>在最后一个浮动的子元素后面添加一个额外标签，添加清除浮动样式</p>
<p>实质是闭合浮动，只让浮动在父盒子内部影响，不影响父盒子外面的其他盒子</p>
<ul>
<li>父级添加<strong>overflow属性</strong></li>
</ul>
<p>overflow: hidden(清除)</p>
<p>外边距合并也是用这句代码</p>
<p>代码简洁但是无法显示溢出的部分</p>
<ul>
<li><strong>父级</strong>添加after伪元素</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.clearfix:after &#123;</span><br><span class="line">content:&quot;&quot;;</span><br><span class="line">display: block;</span><br><span class="line">height: 0;</span><br><span class="line">clear:both;</span><br><span class="line">visibility: hidden</span><br><span class="line">&#125;</span><br><span class="line">.clearfix &#123;</span><br><span class="line">*zoom: 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>第二种是I6I7专有</p>
<p>一般约定就叫clearfix</p>
<p>百度淘宝网易等都用这种方式</p>
<ul>
<li>父级添加双伪元素</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">.clearfix:before,.clearfix:after &#123;</span><br><span class="line">content: &quot;&quot;;</span><br><span class="line">display:table;</span><br><span class="line">&#125;</span><br><span class="line">.clearfix:after &#123;</span><br><span class="line">clear: both;</span><br><span class="line">&#125;</span><br><span class="line">.clearfix &#123;</span><br><span class="line">*zoom: 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>最后一个照顾IE6IE7</p>
<p>代表网站：小米，腾讯</p>
<hr>
<h3 id="切图"><a href="#切图" class="headerlink" title="切图"></a>切图</h3><h4 id="常见图片格式"><a href="#常见图片格式" class="headerlink" title="常见图片格式"></a>常见图片格式</h4><ol>
<li>jpg:对色彩信息保留好，高清，颜色多，<strong>产品类图片</strong>经常用jpg</li>
<li>gif图像格式：只能存储256色，但是可以保存透明背景和动画效果，实际经常用于一些<strong>图片小动画效果</strong></li>
<li>png结合了gif和JPEG优点，能够保持<strong>透明背景</strong></li>
<li>PSD是PS专用格式，可以从上面直接复制文字，图片，还可以测量大小和距离</li>
</ol>
<h4 id="PS切图"><a href="#PS切图" class="headerlink" title="PS切图"></a>PS切图</h4><ol>
<li>点击图片，找到图层，右键快速导出PNG，有时需要合并图层后导出</li>
<li>切片切图，利用切片选中图片，导出选中的图片（文件-导出-存储位web所用格式-存储-切片（选中的切片）-保存</li>
<li>使用cutterman插件</li>
</ol>
<hr>
<h3 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h3><h4 id="CSS属性书写顺序"><a href="#CSS属性书写顺序" class="headerlink" title="CSS属性书写顺序"></a>CSS属性书写顺序</h4><ol>
<li>布局定位属性（建议display第一个写）</li>
<li>自身属性</li>
<li>文本属性</li>
<li>其他属性</li>
</ol>
<h4 id="导航栏制作"><a href="#导航栏制作" class="headerlink" title="导航栏制作"></a>导航栏制作</h4><p>用li包含链接(li+a)的做法 ul&gt;li&gt;a</p>
<ol>
<li>li+a语义清晰</li>
<li>直接用a，搜索引擎容易辨别为堆砌关键字嫌疑，从而影响网站排名</li>
</ol>
<hr>
<h3 id="定位"><a href="#定位" class="headerlink" title="定位"></a>定位</h3><ol>
<li>可以染多个块级盒子一行没有缝隙排列显示，经常用于横向排列盒子</li>
<li>定位可以让盒子自由的在某个盒子内移动位置或者固定屏幕中的某个位置，并且压住其他盒子</li>
</ol>
<h4 id="定位组成"><a href="#定位组成" class="headerlink" title="定位组成"></a>定位组成</h4><p>定位=定位模式+边偏移</p>
<h5 id="定位模式"><a href="#定位模式" class="headerlink" title="定位模式"></a>定位模式</h5><p>position属性</p>
<p>值有四个：static(静态定位)/relative（相对）/absolute（绝对）/fixed(固定)</p>
<p>静态定位是按照标准流特性摆放位置，没有边偏移，很少使用</p>
<h5 id="边偏移"><a href="#边偏移" class="headerlink" title="边偏移"></a>边偏移</h5><p>top、bottom、left、right四个属性</p>
<p>表示距离顶部/底部/左侧/右侧x距离</p>
<p>如果既有left又有right则优先左侧，上下优先上</p>
<h4 id="相对定位-relative"><a href="#相对定位-relative" class="headerlink" title="相对定位 relative"></a>相对定位 relative</h4><p><code>position:relative</code></p>
<ol>
<li>以自身原来的位置为基础偏移</li>
<li>原来在标准流的位置<strong>继续占有</strong>，后面的盒子保留原来位置，不脱标</li>
</ol>
<h4 id="绝对定位-absolute"><a href="#绝对定位-absolute" class="headerlink" title="绝对定位 absolute"></a>绝对定位 absolute</h4><p><code>position:absolute</code></p>
<p>绝对定位是元素在移动位置时，相对它祖先元素来说的</p>
<ol>
<li>如果没有祖先元素或祖先元素没有定位，则以浏览器为准定位（Document文档）</li>
<li>如果祖先元素有定位（相对、绝对、固定），则以最近一级有定位的祖先元素为参考点移动位置</li>
<li>绝对定位<strong>不再占有</strong>原来的位置</li>
</ol>
<h4 id="子绝父相"><a href="#子绝父相" class="headerlink" title="子绝父相"></a>子绝父相</h4><p>子级绝对定位的话，父级要用相对定位</p>
<ol>
<li>父盒子必须占有位置，则只能相对定位，而子盒子不需要占有位置，则是绝对定位</li>
<li>某种情况下父绝子绝也会用到，当父亲不需要占有位置时</li>
</ol>
<h4 id="固定定位"><a href="#固定定位" class="headerlink" title="固定定位"></a>固定定位</h4><p><code>position:fixed</code></p>
<p>元素固定于浏览器可视区的某个位置，用于浏览器页面滚动时元素的位置不会改变</p>
<ol>
<li><p>以<strong>浏览器的可视窗口</strong>为参考元素</p>
<p>跟父元素无关，不随滚动条滚动</p>
</li>
<li><p>固定定位不再占有原先的位置</p>
</li>
</ol>
<p>如何让盒子固定在版心右侧位置？</p>
<ol>
<li>让固定定位的盒子left:50%,走到浏览器可视区的一半位置</li>
<li>让固定定位的盒子margin-left:-版心宽度的一半距离，多走版心宽度的一半位置</li>
</ol>
<h4 id="粘性定位"><a href="#粘性定位" class="headerlink" title="粘性定位"></a>粘性定位</h4><p>position:sticky; top:10px</p>
<ol>
<li>以浏览器的可视窗口为参照点移动元素（固定定位特点）</li>
<li>占有原先的位置（相对定位特点）</li>
<li>必须添加top、left、right、bottom其中一个，否则视为相对定位</li>
</ol>
<p>–兼容性较差，IE不支持–</p>
<h4 id="定位叠放顺序"><a href="#定位叠放顺序" class="headerlink" title="定位叠放顺序"></a>定位叠放顺序</h4><p><code>z-index:1;</code></p>
<ul>
<li>数值可以是正整数，负整数，或0，默认是auto，数值越大，盒子越靠上</li>
<li>如果属性值相同，按照书写顺序，后来居上</li>
<li>数字后面不能加定位</li>
<li>只有定位的盒子才有z-index属性</li>
</ul>
<h4 id="绝对定位居中"><a href="#绝对定位居中" class="headerlink" title="绝对定位居中"></a>绝对定位居中</h4><p>加了绝对定位的盒子不能用margin：0 auto 居中</p>
<p>方法：</p>
<ol>
<li>left: %50</li>
<li>margin-left: -自身宽度的一半</li>
</ol>
<p>垂直方向居中同理</p>
<h4 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h4><ol>
<li>行内元素添加绝对或者相对定位，可以直接给高度宽度</li>
<li>块级元素添加绝对或者固定定位，如果不给宽度或者高度，默认大小的内容的大小</li>
<li>脱标的盒子不会触发外边距塌陷</li>
<li>绝对定位（固定定位会完全压住盒子）</li>
</ol>
<p>浮动元素不同，只会压住下面标准流的盒子，但是不会压住下面标准流盒子里面的文字，绝对定位会压住所有内容</p>
<p>浮动产生的最初目的是为了做文字环绕效果的</p>
<hr>
<h3 id="元素的显示与隐藏"><a href="#元素的显示与隐藏" class="headerlink" title="元素的显示与隐藏"></a>元素的显示与隐藏</h3><p>某些元素，关闭后会消失，刷新时会出现</p>
<ol>
<li>display</li>
</ol>
<p>display:none ;隐藏对象，隐藏后不再占有原来的位置</p>
<p>dispaly:block ;除了转换为块级元素外，还有显示对象的意思</p>
<p>应用十分广泛，配合JS可以做很多网页特效</p>
<ol>
<li>visibility</li>
</ol>
<p>visibility：visible 元素可视</p>
<p>visibility：hidden 元素隐藏，隐藏后仍然占有原来的位置</p>
<ol>
<li>overflow</li>
</ol>
<ul>
<li>overflow：hidden 溢出部分隐藏</li>
<li>overflow：visible 不剪切内容也不添加滚动条</li>
<li>overflow：auto 不剪切内容<strong>在需要的时候</strong>添加滚动条</li>
<li>overflow：scroll 溢出的部分显示滚动条（不溢出也显示滚动条）</li>
</ul>
<p>一般情况下，不让溢出的内容显示出来，因为溢出的部分会影响布局</p>
<p>但是如果有定位的盒子，慎用overflow：hidden 会影响多余的部分</p>
]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title>第一次创建博客</title>
    <url>/2021/03/11/%E7%AC%AC%E4%B8%80%E6%AC%A1%E5%88%9B%E5%BB%BA%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<p>第一次创建博客，踩坑很多</p>
<p>最大的问题是分支命名问题，按照往常的教程在HEXO的配置文件的branch中写的是master，但是现在的github创建的默认分支名字应该是main了，以至于一直可以更新仓库但是博客内容不更新</p>
<p>参考文章：<a href="https://blog.csdn.net/Lu_xiuyuan/article/details/112056997">https://blog.csdn.net/Lu_xiuyuan/article/details/112056997</a></p>
]]></content>
      <tags>
        <tag>blog</tag>
      </tags>
  </entry>
  <entry>
    <title>‘JS案例-跟随鼠标的天使’</title>
    <url>/2021/03/11/JS%E6%A1%88%E4%BE%8B-%E8%B7%9F%E9%9A%8F%E9%BC%A0%E6%A0%87%E7%9A%84%E5%A4%A9%E4%BD%BF/</url>
    <content><![CDATA[<ol>
<li>鼠标不断的移动，使用鼠标移动事件：mousemove</li>
<li>在页面中移动，所以要给document注册事件</li>
<li>图片要移动距离，而且不占位置，使用绝对定位</li>
<li>核心原理：每次鼠标移动，都会得到最新的鼠标坐标，把这个xy作为图片的top和left值</li>
</ol>
<span id="more"></span>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">    &lt;style&gt;</span><br><span class="line">        img &#123;</span><br><span class="line">            position: absolute;</span><br><span class="line">            top: 2px;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;img src&#x3D;&quot;images&#x2F;angel.gif&quot; alt&#x3D;&quot;&quot;&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var pic &#x3D; document.querySelector(&#39;img&#39;);</span><br><span class="line">        document.addEventListener(&#39;mousemove&#39;, function (e) &#123;</span><br><span class="line">            console.log(1);</span><br><span class="line">            &#x2F;&#x2F;mousemove鼠标每移动1px就会触发这个事件</span><br><span class="line">            var x &#x3D; e.pageX;</span><br><span class="line">            var y &#x3D; e.pageY;</span><br><span class="line">            pic.style.left &#x3D; x - 40 + &#39;px&#39;;&#x2F;&#x2F;减图片大小的一半，使鼠标居中</span><br><span class="line">            pic.style.top &#x3D; y - 50 + &#39;px&#39;;&#x2F;&#x2F;必须加单位</span><br><span class="line"></span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JS-1-基本语法</title>
    <url>/2021/03/11/JS-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/</url>
    <content><![CDATA[<h2 id="初识JavaScript"><a href="#初识JavaScript" class="headerlink" title="初识JavaScript"></a>初识JavaScript</h2><ul>
<li>JavaScript是一种运行在客户端的脚本语言</li>
<li>脚本语言：不需要编译，运行过程中由js解释器（js引擎）逐行来进行解释并执行</li>
<li>现在也可以基于Node.js技术进行服务器编程</li>
</ul>
<span id="more"></span>

<ul>
<li>浏览器分为渲染引擎和JS引擎，渲染引擎用来解析HTML和CSS，俗称内核，比如chrome浏览器的blink，老版本的webkit,JS引擎也成js解释器，用来读取网页中的JavaScript代码，对其处理后运行，比如chrome浏览器的V8</li>
<li>JS引擎执行代码时逐行解释每一句原码，然后由计算机取执行，所以归为脚本语言</li>
</ul>
<h2 id="JS作用"><a href="#JS作用" class="headerlink" title="JS作用"></a>JS作用</h2><ul>
<li>表单动态校验</li>
<li>网页特效</li>
<li>服务端开发(Node.js)</li>
<li>桌面程序（Electron)</li>
<li>App（Cordova）</li>
<li>控制硬件-物联网（Ruff）</li>
<li>游戏开发（cocos2D-js）</li>
</ul>
<h2 id="JS组成"><a href="#JS组成" class="headerlink" title="JS组成"></a>JS组成</h2><ul>
<li>ECMAScript ：规定了JS的编程语法和基础核心知识，是所有浏览器厂商共同遵守的一套JS语法工业标准</li>
<li>DOM：文档对象模型</li>
<li>BOM：浏览器对象模型，提供了独立于内容的，可以与浏览器窗口互动的对象结构，通过BOM可以操作浏览器窗口，比如弹出框、控制浏览器跳转、获取分辨率等</li>
</ul>
<h2 id="书写方法"><a href="#书写方法" class="headerlink" title="书写方法"></a>书写方法</h2><ul>
<li>行内式：写在元素内部，JS中推荐用单引号，可读性差，一般特殊情况下使用</li>
<li>内嵌式：</li>
<li>外部JS文件：</li>
</ul>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><ul>
<li>单行注释//                 ctrl+/</li>
<li>多行注释/* */            shift+alt+a</li>
</ul>
<h3 id="常用输入输出语句"><a href="#常用输入输出语句" class="headerlink" title="常用输入输出语句"></a>常用输入输出语句</h3><ul>
<li>alert(msg)   浏览器弹出警示框</li>
<li>console.log(msg)  浏览器控制台打印输出信息</li>
<li>prompt(info)  浏览器弹出输入框，用户可以接入</li>
</ul>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><h4 id="声明变量"><a href="#声明变量" class="headerlink" title="声明变量"></a>声明变量</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var age;</span><br></pre></td></tr></table></figure>

<h4 id="赋值"><a href="#赋值" class="headerlink" title="赋值"></a>赋值</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">age&#x3D;18;</span><br></pre></td></tr></table></figure>

<h4 id="变量的初始化"><a href="#变量的初始化" class="headerlink" title="变量的初始化"></a>变量的初始化</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var age&#x3D;18;</span><br></pre></td></tr></table></figure>

<h4 id="变量更新"><a href="#变量更新" class="headerlink" title="变量更新"></a>变量更新</h4><p>多次赋值后会被覆盖</p>
<h4 id="声明多个变量"><a href="#声明多个变量" class="headerlink" title="声明多个变量"></a>声明多个变量</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var age&#x3D;18,</span><br><span class="line">address&#x3D;&#39;sss&#39;,</span><br><span class="line">gz&#x3D;&#39;2000&#39;;</span><br></pre></td></tr></table></figure>

<h4 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范</h4><ul>
<li>不能是关键字或者保留字</li>
<li>区分大小写</li>
<li>只能字母数字下划线组成，不能数字开头</li>
<li>首字母小写，后面单词字母需要大写</li>
</ul>
<h4 id="标识符、关键字、保留字"><a href="#标识符、关键字、保留字" class="headerlink" title="标识符、关键字、保留字"></a>标识符、关键字、保留字</h4><p>标识符：开发人员为变量、属性、函数、参数取的名字</p>
<p>关键字：JS已经使用了的字，不能作为变量名、方法名</p>
<p>保留字：预留的关键字</p>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p>JS是一种弱类型或者说动态语言，意味着不用提前声明变量的类型，在程序运行过程中，类型会被自动确定</p>
<h4 id="简单数据类型"><a href="#简单数据类型" class="headerlink" title="简单数据类型"></a>简单数据类型</h4><ul>
<li>number：数字型，JS中八进制前面要加0，十六进制前加0x</li>
</ul>
<p>数字类型有三个特殊值，infinity、-infinity、NaN（代表非数值）</p>
<p>可以用isNaN判断是否是数字，</p>
<ul>
<li>boolean：布尔型类型，默认为false</li>
<li>string： 字符串类型，默认值为“”</li>
</ul>
<p>外用单引号，里面用双引号，或者外双内单</p>
<p>可以用length获取字符串长度</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">str.length</span><br></pre></td></tr></table></figure>

<p>字符串拼接</p>
<p>字符串+任意类型=拼接后的新字符串，拼接前把任意类型转化为字符串</p>
<ul>
<li>undefined： 声明了但是没有给值，默认值为undefined</li>
<li>null：空类型，默认值为null</li>
</ul>
<h4 id="数据类型的检测"><a href="#数据类型的检测" class="headerlink" title="数据类型的检测"></a>数据类型的检测</h4><ul>
<li>typeof</li>
<li>字面量字面量是源代码中一个固定值的表示法，通俗来说就是字面量表示如何表达这个值</li>
</ul>
<h4 id="数据类型转换"><a href="#数据类型转换" class="headerlink" title="数据类型转换"></a>数据类型转换</h4><p>把一种数据类型的变量转换成另一种数据类型</p>
<p>转换成字符串型：</p>
<ul>
<li>toString() </li>
<li>String()强制转换</li>
<li>加号拼接字符串，和字符串拼接的结果都是字符串，这种方法也称为隐式转换</li>
</ul>
<p>转换成数字型（前两个重点）</p>
<ul>
<li>parseInt(string)： 可以把带单位的值变数字120px-120,得到是整数</li>
<li>parseFloat(string)：得到是浮点数</li>
<li>Numer()</li>
<li>js隐式转换，利用算术运算 如：’12’-0 ‘12’*1 ‘12’/1 加号是转化成字符串</li>
</ul>
<p>转化成布尔型</p>
<ul>
<li>Boolean()代表空、否定的值会被转换为false，如’’,0,NaN,null,undefined,其余值都会转化为true</li>
</ul>
<h3 id="解释型语言和编译型语言"><a href="#解释型语言和编译型语言" class="headerlink" title="解释型语言和编译型语言"></a>解释型语言和编译型语言</h3><p>编译和解释的区别在于翻译的<strong>时间点</strong>不同，编译器是代码执行之前进行编译生成机器语言，解释器读到每一行都解释为机器语言并执行，java是编译语言，js是解释型语言</p>
<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><h3 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h3><p>+-*/%   (%是取余，一般用于判断能否被整除)</p>
<h3 id="表达式和返回值"><a href="#表达式和返回值" class="headerlink" title="表达式和返回值"></a>表达式和返回值</h3><p>由数字变量运算符等组成的式子</p>
<h3 id="递增运算符和递减运算符"><a href="#递增运算符和递减运算符" class="headerlink" title="递增运算符和递减运算符"></a>递增运算符和递减运算符</h3><p>++ –</p>
<ol>
<li>放在变量前面，表示前置递增，放在变量后面，表示前置递减</li>
<li>必须和变量配合使用</li>
<li>++在前，先加后返回值；++在后先返回值后自加1</li>
<li>开发中大多数使用后置递增/递减，代码独占一行</li>
</ol>
<h3 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h3><ul>
<li>&lt; &gt;  &gt;=  &lt;=  == !=  </li>
<li>===  ！==全等、不全等，要求值和数据类型都一致</li>
</ul>
<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><p>&amp;&amp; || ！</p>
<p>短路运算（逻辑中断）：当有多个表达式时，左边的表达式值可以确定结果时，就不再继续运算右边的表达式的值</p>
<h3 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h3><ul>
<li>=</li>
<li>+=   -=   加、减一个数后再赋值</li>
<li>*=   /=  %= 乘、除、取模后赋值</li>
</ul>
<h3 id="运算符优先级"><a href="#运算符优先级" class="headerlink" title="运算符优先级"></a>运算符优先级</h3><ul>
<li>1  ()</li>
<li>2  ++   –  !</li>
<li>3  先*/%后+-</li>
<li>4 &gt; &gt;= &lt; &lt;=</li>
<li>5  == ！= === ！==</li>
<li>6  先&amp;&amp;后||</li>
<li>7  =</li>
<li>8  ，</li>
</ul>
<h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><p>分为顺序结构、分支结构、循环结构三种，会按照代码的先后顺序依次执行</p>
<h3 id="分支结构"><a href="#分支结构" class="headerlink" title="分支结构"></a>分支结构</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if(条件表达式) &#123;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">else if ()&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">else &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;三元表达式</span><br><span class="line">num&gt;5?&#39;11&#39;:&#39;22&#39;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;switch</span><br><span class="line">switch(表达式) &#123;</span><br><span class="line">	case value1:</span><br><span class="line">		执行语句1;</span><br><span class="line">		break;</span><br><span class="line">	case value2:</span><br><span class="line">		执行语句2;</span><br><span class="line">		break;</span><br><span class="line">	default:</span><br><span class="line">		执行语句</span><br></pre></td></tr></table></figure>

<h3 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;for循环</span><br><span class="line">for(初始化变量；条件表达式；操作表达式)&#123;</span><br><span class="line"> &#x2F;&#x2F;循环体</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;while</span><br><span class="line">while(条件表达式) &#123;</span><br><span class="line">    &#x2F;&#x2F;循环体</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; do while 先执行一次循环体，如果条件表达式为真，则继续执行循环体</span><br><span class="line">do &#123;</span><br><span class="line">    &#x2F;&#x2F;循环体</span><br><span class="line">&#125;while(条件表达式)</span><br></pre></td></tr></table></figure>

<p>continue;</p>
<p>break;</p>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var arr&#x3D; [1,2,3,4];</span><br></pre></td></tr></table></figure>

<p>利用new创建数组</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var 数组名&#x3D;new Array();</span><br><span class="line">var arr&#x3D;new Array();</span><br></pre></td></tr></table></figure>

<p>利用数组字面量创建数组</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var 数组名&#x3D;[];</span><br><span class="line">var 数组名&#x3D;[1,2,3];</span><br></pre></td></tr></table></figure>

<p>数组里可以存放数字、字符串、布尔型等</p>
<h3 id="遍历数组"><a href="#遍历数组" class="headerlink" title="遍历数组"></a>遍历数组</h3><p>可以通过循环</p>
<h3 id="数组新增元素"><a href="#数组新增元素" class="headerlink" title="数组新增元素"></a>数组新增元素</h3><ol>
<li>修改length长度</li>
<li>直接增加索引号，追加数组元素</li>
</ol>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="声明函数"><a href="#声明函数" class="headerlink" title="声明函数"></a>声明函数</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function 函数名(形参) &#123;</span><br><span class="line">    &#x2F;&#x2F;函数体</span><br><span class="line">&#125;</span><br><span class="line">var 变量名&#x3D;function()&#123;</span><br><span class="line">    &#x2F;&#x2F;匿名函数，fun是变量名，不是函数名，但是调用的时候可以fun()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="调用函数"><a href="#调用函数" class="headerlink" title="调用函数"></a>调用函数</h3><p>函数名(实参);</p>
<h3 id="形参实参不匹配"><a href="#形参实参不匹配" class="headerlink" title="形参实参不匹配"></a>形参实参不匹配</h3><ul>
<li>个数相等，正常输出</li>
<li>实参个数大于形参个数，得到形参个数</li>
<li>实参个数小于形参个数，多的形参值视为undefined，相加结果为NaN</li>
</ul>
<h3 id="函数返回"><a href="#函数返回" class="headerlink" title="函数返回"></a>函数返回</h3><p>return</p>
<ul>
<li>return后面的语句不会再被执行</li>
<li>return只能返回一个值，如果返回多个，返回的结果是最后一个</li>
<li>函数没有return则返回undefined</li>
</ul>
<h3 id="Arguements的使用"><a href="#Arguements的使用" class="headerlink" title="Arguements的使用"></a>Arguements的使用</h3><p>当不确定有多少个参数传递的时候，可以用arguments来获取，在JS中，arguments实际上是当前函数的一个内置对象，所有函数都内置了一个arguments对象，arguments对象存储了传递的所有实参</p>
<ul>
<li>是一个伪数组</li>
<li>没有真正数组的一些方法</li>
<li>按照索引的方式存储的</li>
</ul>
<h2 id="JS作用域"><a href="#JS作用域" class="headerlink" title="JS作用域"></a>JS作用域</h2><ul>
<li>作用域就是代码名字在某个范围内起效果，目的是在某个范围内起作用和效果，目的是提高程序的可靠性，重要的是减少命名冲突</li>
<li>es6之前，js的作用域分为全局作用域和局部作用域</li>
<li>全局作用域：整个script标签  或者一个单独的js文件</li>
<li>局部作用域：在函数内部就是局部作用域，这个代码的名字只在函数内部起效果和作用</li>
<li>全局变量只有在浏览器关闭的时候才会销毁，局部变量只要在程序执行完毕就会销毁，比较节约内存资源</li>
</ul>
<h3 id="JS没有块级作用域（es6会新增）"><a href="#JS没有块级作用域（es6会新增）" class="headerlink" title="JS没有块级作用域（es6会新增）"></a>JS没有块级作用域（es6会新增）</h3><p>块级作用域{}，即只能在大括号里使用的变量</p>
<h3 id="作用域链"><a href="#作用域链" class="headerlink" title="作用域链"></a>作用域链</h3><p>函数嵌套函数时，就会嵌套一个新的作用域；</p>
<p>根据内部函数可以访问外部函数变量的机制，就用<strong>链式查找</strong>的方式，决定哪些数据能被内部函数访问（取哪个值），就称为作用域链，类似就近原则</p>
<h3 id="JS预解析"><a href="#JS预解析" class="headerlink" title="JS预解析"></a>JS预解析</h3><p>JS解析器在运行代码的时候，分为预解析和代码执行两步，预解析时，js会先将js里面所有var还有function提升到当前作用域的最前面</p>
<p>预解析分为变量预解析（变量提升）和函数预解析（函数提升）</p>
<p>（1）变量提升：把所有的变量声明提升到当前的作用域最前面，不提供赋值操作</p>
<p>（2）函数提升：把所有的函数声明提升到当前的作用域最前面，不提供调用操作</p>
<h2 id="JS对象"><a href="#JS对象" class="headerlink" title="JS对象"></a>JS对象</h2><p>对象：一个具体的事物，可以是一个数据库，一个网页，一个远程服务器的连接</p>
<p>对象是由属性和方法组成的</p>
<ul>
<li>属性：事物的特征，在对象中用属性来表示（常用名词</li>
<li>方法：事物的行为，在对象中用方法来表示（常用动词</li>
</ul>
<h3 id="为什么需要对象"><a href="#为什么需要对象" class="headerlink" title="为什么需要对象"></a>为什么需要对象</h3><p>数组很难保存一个人的完整信息，可以使用对象实现</p>
<p>var arr={‘你好’，’男’,128,154};</p>
<h3 id="创建对象"><a href="#创建对象" class="headerlink" title="创建对象"></a>创建对象</h3><h5 id="字面量方法："><a href="#字面量方法：" class="headerlink" title="字面量方法："></a>字面量方法：</h5><p>属性或者方法采用键值对的形式，多个属性之间用逗号隔开，方法冒号后面跟的是一个匿名函数</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;字面量创建对象</span><br><span class="line">var obj&#x3D; &#123;</span><br><span class="line">    usname: &#39;张三&#39;,</span><br><span class="line">    age :18,</span><br><span class="line">    say: function() &#123;</span><br><span class="line">        console.log(&#39;hi&#39;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(obj.uname);&#x2F;&#x2F;调用属性</span><br><span class="line">console.log(obj[&#39;age&#39;]);&#x2F;&#x2F;调用属性的第二种方法</span><br><span class="line">obj.say();&#x2F;&#x2F;调用对象的方法</span><br></pre></td></tr></table></figure>

<h5 id="利用new-object创建对象"><a href="#利用new-object创建对象" class="headerlink" title="利用new object创建对象"></a>利用new object创建对象</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var obj &#x3D;new Object();</span><br><span class="line">obj.usename&#x3D;&#39;张三&#39;;</span><br><span class="line">obj.age&#x3D;18;</span><br><span class="line">obj.say&#x3D;function()&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="利用构造函数创建对象"><a href="#利用构造函数创建对象" class="headerlink" title="利用构造函数创建对象"></a>利用构造函数创建对象</h5><p>前面两个创建对象的方式只能一次创建一个对象，可以利用构造函数批量构造，这种函数称为构造函数,这种函数封装的不是普通代码，而是对象</p>
<p>定义：把对象里一些相同的属性和方法抽象出来封装到函数里</p>
<p>构造函数的语法格式</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function 构造函数名() &#123;</span><br><span class="line">    this.属性&#x3D;值；</span><br><span class="line">    this.方法&#x3D;function() &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">new 构造函数名()</span><br><span class="line">-------</span><br><span class="line">function Star(uname,age,sex) &#123;</span><br><span class="line">    this.name&#x3D;uname;</span><br><span class="line">    this.age&#x3D;age;</span><br><span class="line">    this.sex&#x3D;sex;</span><br><span class="line">&#125;</span><br><span class="line">new Star(&#39;张三&#39;,18,&#39;男&#39;);</span><br></pre></td></tr></table></figure>

<ul>
<li>构造函数名字首字母要大写</li>
<li>构造函数不需要return就可以返回结果</li>
<li>新建构造函数必须用new</li>
<li>只要new Star()   调用函数就创建一个对象</li>
<li>属性和方法前必须加this</li>
</ul>
<h4 id="遍历对象"><a href="#遍历对象" class="headerlink" title="遍历对象"></a>遍历对象</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for (变量 in 对象)</span><br><span class="line">for (var k in obj) &#123;&#x2F;&#x2F;一般喜欢用k或key</span><br><span class="line">    console.log(k);&#x2F;&#x2F;得到属性名</span><br><span class="line">    console.log(obj[k]);&#x2F;&#x2F;得到属性值</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>方法也会被遍历出来</p>
<h3 id="JS内置对象"><a href="#JS内置对象" class="headerlink" title="JS内置对象"></a>JS内置对象</h3><ul>
<li>JS中对象分为自定义对象、内置对象、浏览器对象</li>
<li>前两种是ECMAScript，第三个是JS独有的</li>
<li>内置对象是JS中自带的一些对象，提供了最常用和基本的功能，帮助我们快速开发</li>
<li>内置对象包括Math、Date、Array、String等</li>
</ul>
<h4 id="MDN"><a href="#MDN" class="headerlink" title="MDN"></a>MDN</h4><p>Mozilla开发者网络（MDN）提供了有关开放网络技术的信息，包括HTML、CSS和万维网及HTML5应用的API</p>
<h4 id="Math对象"><a href="#Math对象" class="headerlink" title="Math对象"></a>Math对象</h4><p>是一个内置对象，不是构造函数，不需要通过new调用</p>
<p>Math.PI   Math.max(非数值型返回NaN，无参数返回-infinite)</p>
<p>Math.abs() 取绝对值Math.ceil()向上取整 Math.floor()向下取整  Math.round() 四舍五入</p>
<h5 id="随机数方法"><a href="#随机数方法" class="headerlink" title="随机数方法"></a>随机数方法</h5><p>Math.random():返回一个随机小数，0&lt;=x&lt;1,浮点数</p>
<h4 id="日期对象"><a href="#日期对象" class="headerlink" title="日期对象"></a>日期对象</h4><ul>
<li>date是个构造函数,必须使用new调用</li>
<li>如果没有输入参数，则返回当前系统的当前时间</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var today&#x3D;new Date();</span><br><span class="line">var date1&#x3D;new Date(2019,10,1);&#x2F;&#x2F;月份要小一个月，是从0-11的月</span><br><span class="line">var date2&#x3D;new Date(&#39;2019-10-1 8:8:8&#39;);</span><br></pre></td></tr></table></figure>

<h5 id="日期格式化"><a href="#日期格式化" class="headerlink" title="日期格式化"></a>日期格式化</h5><ul>
<li>date.getFullYear()   返回年</li>
<li>date.getMonth()+1    返回月份</li>
<li>date.getDate()    返回几号</li>
<li>date.getHours()</li>
<li>date.getMinutes()</li>
<li>date.getSeconds()</li>
</ul>
<p>获得Date总的毫秒数，是距离1970年1月1日过了多少毫秒数</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var date&#x3D;new Date()</span><br><span class="line"></span><br><span class="line">console.log(date.valueOf());</span><br><span class="line">console.log(date.getTime());</span><br><span class="line"></span><br><span class="line">var date1&#x3D;+new Date();&#x2F;&#x2F;最常用的写法</span><br><span class="line">console.log(date1);</span><br><span class="line"></span><br><span class="line">console.log(Date.now());&#x2F;&#x2F;H5新增的获得总的毫秒数</span><br></pre></td></tr></table></figure>

<h4 id="数组对象"><a href="#数组对象" class="headerlink" title="数组对象"></a>数组对象</h4><h5 id="检测是否为数组"><a href="#检测是否为数组" class="headerlink" title="检测是否为数组"></a>检测是否为数组</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(arr instanceof Array);&#x2F;&#x2F;（1）用instanceof检测</span><br><span class="line">console.log(Array.isArray(arr));&#x2F;&#x2F;(2)优先于instanceof，H5新增，IE9以上版本支持</span><br></pre></td></tr></table></figure>

<h5 id="增加数组元素"><a href="#增加数组元素" class="headerlink" title="增加数组元素"></a>增加数组元素</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">arr.push(1)&#x2F;&#x2F;在arr数组中添加1,返回的结果是新数组的长度</span><br><span class="line">arr.unshift(&#39;red&#39;，‘green&#39;);&#x2F;&#x2F;在arr数组前添加&#39;red&#39;,&#39;green&#39;,返回新数组的长度</span><br></pre></td></tr></table></figure>

<h5 id="删除数组元素"><a href="#删除数组元素" class="headerlink" title="删除数组元素"></a>删除数组元素</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">arr.pop()&#x2F;&#x2F;删除数组的最后一个元素，返回值是删除掉的元素</span><br><span class="line">arr.shift()&#x2F;&#x2F;删除数组的第一个元素，shift完毕后，返回第一个元素的值</span><br></pre></td></tr></table></figure>

<h5 id="数组排序"><a href="#数组排序" class="headerlink" title="数组排序"></a>数组排序</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">arr.reverse(); &#x2F;&#x2F;翻转数组</span><br><span class="line">arr.sort();&#x2F;&#x2F;数组排序，比较的是字符串，数字排序要用以下方法</span><br><span class="line">arr.sort(function(a,b))&#123;</span><br><span class="line">    return a-b;&#x2F;&#x2F;升序排列，b-a是降序</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h5 id="数组索引方法"><a href="#数组索引方法" class="headerlink" title="数组索引方法"></a>数组索引方法</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">arr.indexOf(&#39;blue&#39;)&#x2F;&#x2F;返回该数组元素的索引号</span><br><span class="line">&#x2F;&#x2F;只返回第一个满足条件的索引号，如果在该数组中找不到元素，则返回-1</span><br><span class="line">arr.lastIndexOf(&#39;blue&#39;)&#x2F;&#x2F;倒序查找</span><br></pre></td></tr></table></figure>

<h5 id="数组转化为字符串"><a href="#数组转化为字符串" class="headerlink" title="数组转化为字符串"></a>数组转化为字符串</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">arr.toString()&#x2F;&#x2F;</span><br><span class="line">arr.join()&#x2F;&#x2F;默认逗号分隔</span><br><span class="line">arr.join(&#39;-&#39;)；&#x2F;&#x2F;用-分隔</span><br><span class="line">arr.join(&#39;&amp;&#39;)；&#x2F;&#x2F;表单常用分隔符</span><br></pre></td></tr></table></figure>

<p>其他</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">arr.concat()  &#x2F;&#x2F;拼接两个或多个数组，不影响原数组，返回一个新数组</span><br><span class="line">arr.slice()  &#x2F;&#x2F;数组截取，返回被截取项目的新数组slice(begin,end)</span><br><span class="line">arr.splice()  &#x2F;&#x2F;数组删除splice（第几个开始，要删除个数）  返回被删除项目的新数组，会影响原数组</span><br></pre></td></tr></table></figure>

<h4 id="字符串对象"><a href="#字符串对象" class="headerlink" title="字符串对象"></a>字符串对象</h4><p>字符串如何调用length的？</p>
<ol>
<li>把简单数据类型包含为复杂数据类型</li>
<li>把临时变量的值给str</li>
<li>销毁这个临时变量</li>
</ol>
<p>基本包装类型：String、Number、Boolean，，就是把简单数据类型包装成复杂数据类型，这样基本数据类型就就有了属性和方法</p>
<h5 id="字符串的不可变性"><a href="#字符串的不可变性" class="headerlink" title="字符串的不可变性"></a>字符串的不可变性</h5><p>只字符串里面的值没有变，只是指向了新的地址，看起来像变了，因此不应该大量拼接字符串</p>
<h5 id="根据字符返回位置"><a href="#根据字符返回位置" class="headerlink" title="根据字符返回位置"></a>根据字符返回位置</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">str.indexOf(&#39;要查找的字符&#39;,[起始的位置])&#x2F;&#x2F;可以实现从第几位开始查找，查找不到返回的结果是-1</span><br></pre></td></tr></table></figure>

<h5 id="根据位置返回字符"><a href="#根据位置返回字符" class="headerlink" title="根据位置返回字符"></a>根据位置返回字符</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">str.charAt(index)&#x2F;&#x2F;返回第index个字符，从0开始</span><br><span class="line"></span><br><span class="line">str.charCodeAt(index)&#x2F;&#x2F;返回相应索引号的字符ASCII值  目的：判断用户按下了哪个键</span><br><span class="line"></span><br><span class="line">str[index]&#x2F;&#x2F;H5新增</span><br></pre></td></tr></table></figure>

<h5 id="字符串操作方法"><a href="#字符串操作方法" class="headerlink" title="字符串操作方法"></a>字符串操作方法</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">str.concat(&#39;a&#39;)&#x2F;&#x2F;相当于str+&#39;a&#39;</span><br><span class="line">substr(截取的起始位置，截取几个字符)</span><br><span class="line">slice</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">str.replace(&#39;a&#39;,&#39;b&#39;)&#x2F;&#x2F;把str中的&#39;a&#39;替换成&#39;b&#39;,只会替换第一个</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">str.split(&#39;,&#39;)&#x2F;&#x2F;字符串转化为数组，用&#39;,&#39;分割，可以改为其他分隔符</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">toUpperCase()&#x2F;&#x2F;转换大写</span><br><span class="line">toLowerCase()&#x2F;&#x2F;转换小写</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="数据类型总结"><a href="#数据类型总结" class="headerlink" title="数据类型总结"></a>数据类型总结</h2><p>简单数据类型/值类型：string、number、boolean、underfined、null</p>
<p>复杂类型/引用类型：在存储时变量中存储的仅仅是地址（引用），因此叫做引用数据类型，是通过new创建的类型</p>
<ul>
<li>一般有个变量打算以后放对象，可以先让他等于none</li>
<li>一般简单的数据类型<strong>值</strong>放在栈中，复杂的是把<strong>地址</strong>放在栈中，内容是存放在堆中</li>
<li>函数的形参也可以看做是一个变量，当我们把引用类型变量传给形参时，实质上是把变量在栈内保存的堆地址复制给了形参，形参和实参保存的是同一个堆地址，因此函数内部对输入的对象进行改变的时候，直接改变了堆中的内容，函数执行完毕后，该对象的内容已经改变</li>
</ul>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JS-3-高级事件</title>
    <url>/2021/03/11/JS-3-%E9%AB%98%E7%BA%A7%E4%BA%8B%E4%BB%B6/</url>
    <content><![CDATA[<p>获取事件和处理事件的第二种方式：事件监听</p>
<p>如何获取和处理鼠标与键盘的基本事件？</p>
<span id="more"></span>

<h2 id="事件监听方式"><a href="#事件监听方式" class="headerlink" title="事件监听方式"></a>事件监听方式</h2><p>eventTarget.addEventListener(type,listener[,useCapture])</p>
<ul>
<li>type：事件类型 如click</li>
<li>listener：事件处理函数</li>
<li>useCapture：布尔值</li>
</ul>
<p>ie9以前的版本支持</p>
<p>eventTarget.attachEvent()将制定的监听器注册到eventTarget上，当对象触发指定事件时，指定的回调函数就会执行</p>
<p>该方法接收两个参数：</p>
<ul>
<li>eventNameWithOn:事件类型字符串 如onclick</li>
<li>callback：事件处理函数，</li>
</ul>
<h2 id="删除事件"><a href="#删除事件" class="headerlink" title="删除事件"></a>删除事件</h2><ol>
<li>传统方式</li>
</ol>
<p>eventTarget.onclick=null;</p>
<ol>
<li>方法监听注册方式</li>
</ol>
<p>eventTarget.removeEventListener(type,listener[,useCapture]);</p>
<h2 id="DOM事件流"><a href="#DOM事件流" class="headerlink" title="DOM事件流"></a>DOM事件流</h2><p>事件流描述的是从页面中接收事件 的顺序</p>
<p>事件发生时会在元素节点之间按照特定的顺序传播，这个传播过程即DOM事件流</p>
<p>DOM事件流分为3个阶段：</p>
<ol>
<li>捕获阶段  自顶向下</li>
<li>当前目标阶段</li>
<li>冒泡阶段  从下往上</li>
</ol>
<p>JS代码只能执行捕获或者冒泡其中一个阶段</p>
<p>onclick和attachment只能得到冒泡阶段</p>
<p>addEventListener第三个参数如果是true，表示在事件捕获阶段调用事件处理程序，如果是false表示在事件冒泡阶段调用</p>
<h2 id="事件对象"><a href="#事件对象" class="headerlink" title="事件对象"></a>事件对象</h2><p>div.onclick=function(event) {}</p>
<ol>
<li>event就是一个事件对象，写到我们的侦听函数里的小括号里面，当形参来看</li>
<li>事件对象只有有了事件才会存在，它是系统给我们自动创建的，不需要我们传递参数</li>
<li>事件对象使我们事件的一系列相关数据的集合  跟事件相关的  比如鼠标点击里面就包含了鼠标的相关信息如鼠标坐标等</li>
<li>事件对象可以自己命名 如evt、e、</li>
<li>有兼容性问题 ie678通过window.event获取事件对象</li>
</ol>
<h3 id="事件对象常见属性和方法"><a href="#事件对象常见属性和方法" class="headerlink" title="事件对象常见属性和方法"></a>事件对象常见属性和方法</h3><p>a.target  返回触发事件的对象（点了谁返回谁） 标准  this返回的是绑定事件的对象</p>
<p>a.currentTarget和this一样，但是只适用于ie9以上（了解即可）</p>
<p>e.srcElement  返回触发事件的对象 非标准 ie6-8常用</p>
<p>e.type  返回事件的类型</p>
<ul>
<li>阻止默认事件 有时候需要阻止链接跳转</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">a.returnValue;  &#x2F;&#x2F;ie678阻止默认事件的方法  也可以直接用</span><br><span class="line">a.preventDefault(); &#x2F;&#x2F;阻止默认事件 可以让链接不跳转</span><br><span class="line">return false;  &#x2F;&#x2F;阻止事件跳转（无兼容性问题）</span><br></pre></td></tr></table></figure>

<ul>
<li>冒泡会导致当多个盒子重叠并同时监听时，由于冒泡原理会一层一层执行，因此有时需要考虑阻止冒泡</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">a.cancelBubble&#x3D;true;  &#x2F;&#x2F;非标准</span><br><span class="line">a.stopPropagation();  &#x2F;&#x2F;重点，标准写法，有兼容性问题</span><br></pre></td></tr></table></figure>

<h3 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h3><p>事件冒泡本身的特性，会带来坏处，也会带来好处，需要我们灵活掌握。</p>
<p>事件委托也称为事件代理，在jQuery里称为事件委派</p>
<p><strong>不要给每个子节点单独设置事件监听器，而是事件监听器设置在其父节点上，然后利用冒泡原理影响设置每个子节点</strong></p>
<p>例如ul里有很多个li都需要监听事件，可以给ul设定监听器，因为点击li，事件会冒泡到ul上，就会触发事件监听器，可以利用对象的target找到当前点击的li</p>
<p>可以实现找到这个li后改变它的背景颜色，大大简化了代码</p>
<p>作用：</p>
<p>只操作了一次DOM，提高了程序的性能</p>
<h2 id="常用的鼠标事件"><a href="#常用的鼠标事件" class="headerlink" title="常用的鼠标事件"></a>常用的鼠标事件</h2><h3 id="鼠标事件"><a href="#鼠标事件" class="headerlink" title="鼠标事件"></a>鼠标事件</h3><p>click：单击事件<br>dblclick：双击事件<br>mousedown：按下鼠标键时触发<br>mouseup：释放按下的鼠标键时触发<br>mousemove：鼠标移动事件<br>mouseover：移入事件<br>mouseout：移出事件<br>mouseenter：移入事件<br>mouseleave：移出事件<br>contextmenu：右键事件, 可以使用preventDefault禁用右键菜单</p>
<p>selectstart: 选中事件，可以使用selectstart禁用选中文字（不准复制~）</p>
<h3 id="鼠标事件对象"><a href="#鼠标事件对象" class="headerlink" title="鼠标事件对象"></a>鼠标事件对象</h3><p>现阶段主要使用鼠标事件对象和键盘事件对象</p>
<p>clientX,clientY永远是相对于可视窗口的坐标，不会随着滚轮拖动而改变</p>
<p>e.pageX、e.pageY是相对于文档页面的X、Y坐标，IE9+支持</p>
<p>e.screenX、e.screenY相对于电脑屏幕的X、Y坐标</p>
<h2 id="常用键盘事件"><a href="#常用键盘事件" class="headerlink" title="常用键盘事件"></a>常用键盘事件</h2><h3 id="键盘事件"><a href="#键盘事件" class="headerlink" title="键盘事件"></a>键盘事件</h3><p>onkeyup  某个按键松开</p>
<p>onkeydown 按下时</p>
<p>onkeypress  按下时触发，但是它不识别功能键，比如ctrl、shift、箭头</p>
<p>三个都写时有执行顺序区别，先执行down再执行press然后是up</p>
<h3 id="键盘事件对象"><a href="#键盘事件对象" class="headerlink" title="键盘事件对象"></a>键盘事件对象</h3><p>key：‘1’  直接告诉是哪个键，但是兼容性问题较大</p>
<p>keyCode：可以得到用户按键的ASCii码值</p>
<p>keyup和keydowm事件不区分字母大小写，大写和小写的ASCii码都是小写的码，而keypress区分字母大小写</p>
<p>案例：可以实现按键搜索框自动获取焦点</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">使用keyCode判断用户是否按下了s键，利用search.focus()实现搜索框获取焦点</span><br><span class="line">最好用keydown判断，防止&#39;s&#39;进入了输入框</span><br></pre></td></tr></table></figure>

<p>案例：京东快递单号输入时上面自动放大</p>
<p><img src="C:\Users\LiJing\AppData\Local\Temp\1615474218343.png" alt="1615474218343"></p>
<ol>
<li><p>快递单号输入内容时，上面的大盒子显示</p>
</li>
<li><p>表单检测用户输入：给表单添加键盘事件</p>
</li>
<li><p>同时把快递单号表单里的值获取过来赋值给盒子</p>
</li>
<li><p>如果快递单号里面内容为空，则隐藏盒子 con.style.display=’none’</p>
</li>
<li><p>当文本框失去焦点，隐藏盒子  </p>
<p>blur  diplay=none </p>
<p> focus  {if this.value!=’’ display=block}//获得焦点时还需要检测输入是否为空</p>
</li>
<li><p><strong>注意：</strong>此处应该使用keyup，弹起时文字已经在文本框出现了       keydown和keypress触发的时候，文本框的字还没有出现，并不能实现同时放大的效果</p>
</li>
</ol>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JS-4-BOM浏览器对象模型</title>
    <url>/2021/03/11/JS-4-BOM%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B/</url>
    <content><![CDATA[<p>什么是BOM</p>
<p>浏览器的顶级对象</p>
<p>页面加载事件以及注意事项</p>
<p>定时器函数</p>
<p>JS执行机制</p>
<p>页面跳转、刷新</p>
<p>history、navigator对象</p>
<span id="more"></span>

<h2 id="什么是BOM"><a href="#什么是BOM" class="headerlink" title="什么是BOM"></a>什么是BOM</h2><p>浏览器对象模型(Browser Object Model)，主要作用是提供独立于内容而与浏览器窗口进行交互的对象，核心是window，BOM缺乏标准</p>
<p>###对比</p>
<p>DOM                                    BOM</p>
<p>文档对象模型                                浏览器对象模型</p>
<p>顶级对象的document                        顶级对象是window</p>
<p>主要学习操作元素                            主要和浏览器窗口交互，刷新跳转等</p>
<p>W3C                                    BOM是浏览器厂商各自定义的，兼容性差</p>
<h3 id="BOM的构成"><a href="#BOM的构成" class="headerlink" title="BOM的构成"></a>BOM的构成</h3><p>window对象是浏览器的顶级对象，具有双重角色</p>
<ul>
<li>是JS访问浏览器窗口的一个接口</li>
<li>是一个全局对象，定义在全局作用域中的变量、函数都会变成window对象的方法和属性</li>
<li>在调用的时候可以省略window，前面学习的对话框alert()、prompt()等</li>
<li>window下不要直接定义变量为name，因为有个特殊属性window.name</li>
</ul>
<h2 id="window对象常见事件"><a href="#window对象常见事件" class="headerlink" title="window对象常见事件"></a>window对象常见事件</h2><p>###窗口加载事件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">window.onload&#x3D;function()&#123;&#125;</span><br><span class="line">window.addEventListener&#x3D;(&quot;load&quot;,function()&#123;&#125;)</span><br></pre></td></tr></table></figure>

<p>window.onload是窗口加载事件，当文档enrich完全加载完成会触发该事件（包括图像、脚本文件、CSS文件等），就调用的处理函数</p>
<ol>
<li>有了window.onload就可以把JS代码写到页面元素的上方，但是写了多个后只处理最后一个</li>
<li>如果用addEventListener则没有限制</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">document.addEventListener(&#39;DOMContentLoaded&#39;,function()&#123;&#125;)</span><br></pre></td></tr></table></figure>

<p>仅当DOM加载完成时才会触发，不包含样式表、图片、flash等，ie9以上才支持</p>
<p>在页面图片很多加载很慢的时候，可以提前获取交互，保证用户体验</p>
<h3 id="调整窗口大小事件"><a href="#调整窗口大小事件" class="headerlink" title="调整窗口大小事件"></a>调整窗口大小事件</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">window.onresize&#x3D;function()&#123;&#125;</span><br><span class="line">window.addEventListener&#x3D;(&quot;resize&quot;,function()&#123;&#125;)</span><br></pre></td></tr></table></figure>

<p>调整窗口大小事件</p>
<ol>
<li>只要窗口带下发生像素变化时，就会触发</li>
<li>用于响应式布局；window.innerWidth可以获得屏幕宽度</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var div &#x3D; document.querySelector(&#39;div&#39;);</span><br><span class="line">window.addEventListener(&#39;resize&#39;, function () &#123;</span><br><span class="line">    if (window.innerWidth &lt;&#x3D; 800) &#123;</span><br><span class="line">        div.style.display &#x3D; &#39;none&#39;;</span><br><span class="line">    &#125;	else &#123;</span><br><span class="line">        div.style.display &#x3D; &#39;block&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h2><h3 id="两种定时器"><a href="#两种定时器" class="headerlink" title="两种定时器"></a>两种定时器</h3><p><strong>setTimeOut()</strong></p>
<p>window.setTimeout(调用函数，[延迟的毫秒数]);</p>
<ul>
<li>延迟时间可以省略</li>
<li>调用函数可以直接写函数，还可以写函数名</li>
<li>还有一个写法’函数名()’,不提倡</li>
<li>页面中可能有很多定时器，我们经常给定时器加标识符</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function callback() &#123;</span><br><span class="line">          console.log(&#39;111&#39;);</span><br><span class="line">      &#125;</span><br><span class="line">      var time1 &#x3D; setTimeout(callback, 3000);</span><br><span class="line">      var time2 &#x3D; setTimeout(callback, 1000);</span><br></pre></td></tr></table></figure>

<p>回调函数callback：需要等待时间，时间到了才去调用这个函数以前的.onclick=function()里面的函数也是回调函数</p>
<p>案例：5s后自动隐藏广告</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var ad &#x3D; document.querySelector(&#39;.ad&#39;);</span><br><span class="line">setTimeout(function () &#123;</span><br><span class="line">    ad.style.display &#x3D; &#39;none&#39;;</span><br><span class="line">&#125;, 5000)</span><br></pre></td></tr></table></figure>

<p><strong>计时器停止：</strong></p>
<p>window.clearTimeout(timeoutID)</p>
<p>setInterval()定时器</p>
<p>window.setInterval(回调函数，[间隔的毫秒数])</p>
<p>执行过程不同，本函数是每间隔一定时间就执行一次，会不断执行，setTimeout只执行一次</p>
<p>案例：秒杀倒计时</p>
<ul>
<li>这个倒计时是不断变化的  ，因此需要定时器来自动变化（setInterval）</li>
<li>三个盒子分别存放时分秒</li>
<li>三个黑色盒子利用innerHTML放入计算的小时分钟秒数</li>
<li>最好先调用一次函数，防止刚刷新页面时出现空白</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var hour &#x3D; document.querySelector(&#39;.hour&#39;);</span><br><span class="line">var minute &#x3D; document.querySelector(&#39;.minute&#39;);</span><br><span class="line">var second &#x3D; document.querySelector(&#39;.second&#39;);</span><br><span class="line">var inputTime &#x3D; +new Date(&#39;2021-3-13 18:00:00&#39;);&#x2F;&#x2F;用户想输入的时间</span><br><span class="line">countDown();&#x2F;&#x2F;最好先调用一次函数，防止刚刷新页面时出现空白</span><br><span class="line">&#x2F;&#x2F;开启定时器 每秒都调用该函数</span><br><span class="line">setInterval(countDown, 1000);</span><br><span class="line">function countDown(time) &#123;</span><br><span class="line">    var nowTime &#x3D; +new Date();&#x2F;&#x2F;当前时间总的毫秒数</span><br><span class="line">    var times &#x3D; (inputTime - nowTime) &#x2F; 1000;&#x2F;&#x2F;秒数</span><br><span class="line">    var h &#x3D; parseInt(times &#x2F; 60 &#x2F; 60 % 24);</span><br><span class="line">    h &#x3D; h &lt; 10 ? &#39;0&#39; + h : h;</span><br><span class="line">    hour.innerHTML &#x3D; h;</span><br><span class="line">    var m &#x3D; parseInt(times &#x2F; 60 % 60);</span><br><span class="line">    m &#x3D; m &lt; 10 ? &#39;0&#39; + m : m;</span><br><span class="line">    minute.innerHTML &#x3D; m;</span><br><span class="line">    var s &#x3D; parseInt(times % 60);</span><br><span class="line">    s &#x3D; s &lt; 10 ? &#39;0&#39; + s : s;</span><br><span class="line">    second.innerHTML &#x3D; s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>window.clearInterval();停止定时器</p>
<ul>
<li>有时外界需要内部的变量，需要在函数外定义对象，可以定义为null</li>
</ul>
<h3 id="this"><a href="#this" class="headerlink" title="this"></a>this</h3><p>指向<strong>调用</strong>它的对象</p>
<ol>
<li><p>全局作用域下或者普通函数下this指向window；（定时器里面的this指向window）</p>
</li>
<li><p>方法调用中this指向的是调用它的对象</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">btn.addEventListener(&#39;click&#39;,function()&#123;&#125;)</span><br><span class="line">btn.onclick&#x3D;function()&#123;&#125;;</span><br><span class="line">&#x2F;&#x2F;都指向btn</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>构造函数中this指向构造函数的实例</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var fun&#x3D;new Fun();&#x2F;&#x2F;this指向fun</span><br></pre></td></tr></table></figure>

<h2 id="JS执行队列"><a href="#JS执行队列" class="headerlink" title="JS执行队列"></a>JS执行队列</h2><h3 id="JS单线程"><a href="#JS单线程" class="headerlink" title="JS单线程"></a>JS单线程</h3><p>JS是单线程语言，同一时间只能做一件事。</p>
<p>单线程意味着所有任务需要排队，如果JS执行事件过长，会造成其他代码等待时间过长</p>
<p>为了解决这个问题，HTM5提出了Web Worker标准，允许JS创建多个线程，因此出现了同步和异步</p>
<p>###同步和异步</p>
<p><strong>同步</strong>：</p>
<p>前一个任务结束后再执行后一个任务，程序的执行顺序和任务的排列顺序是一致的、同步的</p>
<p><strong>异步：</strong></p>
<p>做一件事情的时候同时还可以做其他事情</p>
<p>本质区别：这条流水线上各个流程执行顺序不同</p>
<p><strong>同步任务</strong>：同步任务都在主线程上进行，行程一个执行栈</p>
<p><strong>异步任务</strong>：JS的异步是通过回调函数实现的，</p>
<ol>
<li>普通事件：如click、resize等</li>
<li>资源加载，如load、error等</li>
<li>定时器，如setinterval、setTimeout等</li>
</ol>
<p>异步任务相关回调函数添加到任务队列（消息队列）中。</p>
<h3 id="JS执行机制"><a href="#JS执行机制" class="headerlink" title="JS执行机制"></a>JS执行机制</h3><ol>
<li>先执行执行栈中同步任务</li>
<li>异步任务放入任务队列中</li>
<li>一旦执行栈中所有同步任务执行完毕，系统就会按次序读取任务队列中的异步任务，于是被读取的异步任务结束等待状态，进入执行栈，开始执行</li>
</ol>
<p>由于主线程不断的获取任务、执行任务、再获取任务、再执行任务，这种机制被称为<strong>事件循环</strong></p>
<h2 id="Location对象"><a href="#Location对象" class="headerlink" title="Location对象"></a>Location对象</h2><p>window对象给我们提供了一个location属性用于获取或设置窗体的URL，并且可以用于解析URL。该属性返回的是一个对象，因此也称为Location对象</p>
<p>URL</p>
<p>统一资源定位符(Uniform Resource Locator)，是互联网标准资源的地址，互联网每个文件都有位移的URL，包含的信息之处文件的位置以及浏览器该如何处理它</p>
<p>URL一般格式</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">protocol:&#x2F;&#x2F;host[:port]&#x2F;path&#x2F;[?query]#fragment</span><br><span class="line">http:&#x2F;&#x2F;www.itcast.cn&#x2F;index.html?name&#x3D;andy&amp;age&#x3D;18#link</span><br></pre></td></tr></table></figure>

<ul>
<li>protocol  通信协议 常用的http、ftp、maito等</li>
<li>host  主机（域名）</li>
<li>port  端口号 可选，省略时使用方案的默认端口，如http的默认端口为80</li>
<li>path路径 由零或多个’/‘符号隔开的字符串，一般用来表示主机上的一个目录或文件地址</li>
<li>query 参数 以键值对的形式，用&amp;号分割开</li>
<li>fragment 片段 #后面内容，常见于连接锚点</li>
</ul>
<h3 id="Location对象的属性"><a href="#Location对象的属性" class="headerlink" title="Location对象的属性"></a>Location对象的属性</h3><p><strong>location.href</strong>  获取或设置整个URL  可以实现点击某位置跳转其他页面</p>
<p>location.host  返回主机（域名）</p>
<p>location.port 返回端口号</p>
<p>location.pathname返回路径</p>
<p><strong>location.search</strong>  返回参数(query)</p>
<p>location.hash 返回片段 #后面内容常见于链接 锚点</p>
<p>案例：5s后自动跳转页面</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var timer&#x3D;5;</span><br><span class="line">setInterval(function()&#123;</span><br><span class="line">if(timer&#x3D;&#x3D;0)&#123;</span><br><span class="line">    location.href&#x3D;&#39;http:&#x2F;&#x2F;www.itcast.cn&#39;;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    div.innerHTML&#x3D;&#39;将在&#39;+timeer+&#39;s 后跳转首页&#39;; </span><br><span class="line">    timer--;&#125;</span><br><span class="line">&#125;,1000)</span><br></pre></td></tr></table></figure>

<p>案例：提交表单后跳转到另一个页面并显示</p>
<ol>
<li>第一个登陆页面，里有提交表单，利用action=’index.html’提交到第二个页面，input表单必须有name属性，作为提交的属性</li>
<li>第二个页面，可以使用第一个页面的参数，利用了参数的传递，从location.search可以得到</li>
<li>location.search得到的是形如 ?name=Andy 的样式，需要去掉问号（substr(开始的位置，位数)</li>
<li>还需要利用split(‘=’)分开参数和值</li>
</ol>
<h3 id="Location常用方法"><a href="#Location常用方法" class="headerlink" title="Location常用方法"></a>Location常用方法</h3><p>location.assign 跳转页面，记录浏览器历史，可以使用后退功能</p>
<p>location.replace  跳转页面，但是不记录历史，无法后退</p>
<p>location.reload 重新加载，相当于刷新页面，如果参数为true表示强制刷新（不读取缓存中图片，机载较慢），不填表示类似于F5直接刷新</p>
<h2 id="navigator对象"><a href="#navigator对象" class="headerlink" title="navigator对象"></a>navigator对象</h2><p>navigator.userAgent显示浏览器信息、系统信息</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if((navigator.userAgent.match(&#x2F;(iPhone|iPod|Android|ios|iPad|hpwOS|SysbianOS|Windows Phone|UCWEB|BlackBerry|Nokia|RIM|IEMobile|Mobile)&#x2F;i)&#123;</span><br><span class="line">location.href&#x3D;&quot;http:&#x2F;&#x2F;www.cnblogs.com&#x2F;dying&quot;&#125;</span><br><span class="line">else&#123;</span><br><span class="line">    location.href&#x3D;&quot;&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>##history对象</p>
<p>history.forward()  前进功能</p>
<p>history.back()后退</p>
<p>go()  参数是2表示前进2个页面，-2表示后退2个页面</p>
<p>一些OA办公系统有可能会用到</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JS-2-DOM</title>
    <url>/2021/03/11/JS-2-DOM/</url>
    <content><![CDATA[<h2 id="API和Web-API"><a href="#API和Web-API" class="headerlink" title="API和Web API"></a>API和Web API</h2><h3 id="API"><a href="#API" class="headerlink" title="API"></a>API</h3><p>应用程序编程接口，目的是提供应用程序与开发人员基于某软件或硬件得以访问一组例程的能力，且又无需访问源码，或理解内部工作机制的细节</p>
<p>API是给程序员提供的一种工具，以便能更轻松的实现想要的功能</p>
<span id="more"></span>

<h3 id="Web-API"><a href="#Web-API" class="headerlink" title="Web API"></a>Web API</h3><p>是浏览器提供的一套操作浏览器功能和页面元素的API（BOM和DOM）</p>
<h2 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h2><p>DOM是(Document Object Model)文档对象模型，是W3C组织推荐的处理可扩展标记语言的标准编程接口</p>
<p>可以通过DOM接口改变网页的结构、内容和样式</p>
<h3 id="DOM树"><a href="#DOM树" class="headerlink" title="DOM树"></a>DOM树</h3><ul>
<li>文档：一个页面就是一个文档，DOM中使用document表示</li>
<li>元素：页面中所有标签就是元素，DOM中使用element表示</li>
<li>节点：网页中所有内容都是节点（标签、属性、文本、注释）等，DOM中使用node表示</li>
</ul>
<p>DOM把以上内容都看作对象</p>
<h2 id="获取元素"><a href="#获取元素" class="headerlink" title="获取元素"></a>获取元素</h2><h4 id="根据ID获取"><a href="#根据ID获取" class="headerlink" title="根据ID获取"></a>根据ID获取</h4><p>getElementById</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;time&quot;&gt;2010&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    &#x2F;&#x2F; 参数id是大小写敏感的字符串,返回的是一个元素对象</span><br><span class="line">    var timer &#x3D; document.getElementById(&#39;time&#39;);</span><br><span class="line">    console.log(timer);</span><br><span class="line">    console.log(typeof timer);&#x2F;&#x2F;返回object</span><br><span class="line">    &#x2F;&#x2F;打印返回的元素对象，更好的查看里面的属性和方法</span><br><span class="line">    console.dir(timer);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="根据标签名获取"><a href="#根据标签名获取" class="headerlink" title="根据标签名获取"></a>根据标签名获取</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;返回的是获取过来元素对象的集合 以伪数组的形式存储的 </span><br><span class="line">var lis &#x3D; document.getElementsByTagName(&#39;li&#39;);</span><br><span class="line">console.log(lis);</span><br><span class="line">&#x2F;&#x2F;如果页面中只有一个li，返回的还是伪数组，没有则是空的伪数组[]</span><br></pre></td></tr></table></figure>

<p>可以指定父元素内部所有指定标签名的子元素</p>
<p>父元素必须是单个对象（必须指明是哪一个元素对象），获取的时候不包括父元素自己</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var mm &#x3D; document.getElementsByTagName(&#39;div&#39;);</span><br><span class="line">console.log(mm[0].getElementsByTagName(&#39;li&#39;));</span><br></pre></td></tr></table></figure>

<h4 id="通过类名获取"><a href="#通过类名获取" class="headerlink" title="通过类名获取"></a>通过类名获取</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">document.getElementsByClassName(&#39;box&#39;);&#x2F;&#x2F;选择类名为box的对象</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;指定选择器的第一个对象</span><br><span class="line">document.querySelector(&#39;.box&#39;);</span><br><span class="line">document.querySelector(&#39;#nav&#39;);&#x2F;&#x2F;选择器必须加符号</span><br><span class="line">&#x2F;&#x2F;指定选择器的所有对象</span><br><span class="line">document.querySelectorAll(&#39;.box&#39;);</span><br></pre></td></tr></table></figure>

<h4 id="获取body3元素"><a href="#获取body3元素" class="headerlink" title="获取body3元素"></a>获取body3元素</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">document.body;</span><br></pre></td></tr></table></figure>

<h4 id="获取html元素"><a href="#获取html元素" class="headerlink" title="获取html元素"></a>获取html元素</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">document.documentElement;&#x2F;&#x2F;得到整个html标签的内容</span><br></pre></td></tr></table></figure>

<h2 id="事件基础"><a href="#事件基础" class="headerlink" title="事件基础"></a>事件基础</h2><p>执行事件的步骤：</p>
<ol>
<li>获取事件源</li>
<li>注册事件（绑定事件）</li>
<li>添加事件处理程序</li>
</ol>
<h3 id="常见的鼠标事件"><a href="#常见的鼠标事件" class="headerlink" title="常见的鼠标事件"></a>常见的鼠标事件</h3><ul>
<li>onclick  鼠标左键按下</li>
<li>onmouseover  鼠标经过</li>
<li>onmouseout  鼠标离开</li>
<li>onfouse  获得鼠标焦点触发</li>
<li>onblur  失去鼠标焦点触发</li>
<li>onmousemove  鼠标移动触发</li>
<li>onmouseup 鼠标弹起触发</li>
<li>onmousedown鼠标按下触发</li>
</ul>
<h2 id="操作元素"><a href="#操作元素" class="headerlink" title="操作元素"></a>操作元素</h2><h4 id="改变元素内容"><a href="#改变元素内容" class="headerlink" title="改变元素内容"></a>改变元素内容</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">element.innerText&#x3D;</span><br><span class="line">element.innerHTML&#x3D;</span><br></pre></td></tr></table></figure>

<ul>
<li>innerText不识别HTML标签，innerHTML识别,是W3C标准</li>
<li>这两个属性是可读写的</li>
<li>读的时候，innerText会去除标签空格和换行，innerHTML显示是完整的</li>
</ul>
<h4 id="修改常见元素属性"><a href="#修改常见元素属性" class="headerlink" title="修改常见元素属性"></a>修改常见元素属性</h4><p>img.src换图</p>
<h4 id="表单元素的属性操作"><a href="#表单元素的属性操作" class="headerlink" title="表单元素的属性操作"></a>表单元素的属性操作</h4><p>type、value、checked、selected、disabled</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    var btn &#x3D; document.querySelector(&#39;button&#39;);</span><br><span class="line">    var input &#x3D; document.querySelector(&#39;input&#39;);</span><br><span class="line">    btn.onclick &#x3D; function () &#123;</span><br><span class="line">        input.value &#x3D; &#39;被点击了&#39;;</span><br><span class="line">        &#x2F;&#x2F; 禁用某个表单不能再点击用disabled</span><br><span class="line">        btn.disabled &#x3D; true;</span><br><span class="line">        this.disabled&#x3D;true;&#x2F;&#x2F;this指向的是调用者</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\LiJing\AppData\Local\Temp\1615301396516.png" alt="1615301396516"></p>
<h4 id="修改元素样式属性"><a href="#修改元素样式属性" class="headerlink" title="修改元素样式属性"></a>修改元素样式属性</h4><ol>
<li>使用element.style获得修改元素形式</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">this.style.backgroundColor&#x3D;&#39;purple&#39;;</span><br></pre></td></tr></table></figure>

<ul>
<li>JS里的样式采取驼峰命名法</li>
<li>JS修改style样式操作，产生的是行内样式，css权重比较高</li>
<li>一般样式少，功能简单时使用</li>
</ul>
<ol>
<li>使用this.className=’’,然后在css里定义该类的样式属性</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">this.className&#x3D;&#39;change&#39;;</span><br></pre></td></tr></table></figure>

<ul>
<li>className是保留字，操作元素类名属性</li>
<li>会直接更改类名，覆盖原来的类名</li>
<li>如果想要保留原来的类名，可以使用多类名选择器</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">this.className&#x3D;&#39;first change&#39;;</span><br></pre></td></tr></table></figure>

<h3 id="排他思想"><a href="#排他思想" class="headerlink" title="排他思想"></a>排他思想</h3><p>给所有元素全部清除样式后，给当前元素设置样式，顺序不可以颠倒</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var btns &#x3D; document.getElementsByTagName(&#39;button&#39;);</span><br><span class="line">for (var i &#x3D; 0; i &lt; btns.length; i++) &#123;</span><br><span class="line">    btns[i].onclick &#x3D; function () &#123;</span><br><span class="line">        console.log(&#39;1&#39;);</span><br><span class="line">        for (var i &#x3D; 0; i &lt; btns.length; i++) &#123;</span><br><span class="line">            btns[i].style.backgroundColor &#x3D; &#39;&#39;;</span><br><span class="line">        &#125;</span><br><span class="line">        this.style.backgroundColor &#x3D; &#39;pink&#39;;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="自定义属性操作"><a href="#自定义属性操作" class="headerlink" title="自定义属性操作"></a>自定义属性操作</h3><h4 id="获取属性值"><a href="#获取属性值" class="headerlink" title="获取属性值"></a>获取属性值</h4><ol>
<li>element.属性  只能获取内置属性值（元素自带）</li>
<li>element.getAttribute(‘属性’)  可以获取自定义属性（程序员自己添加）</li>
<li>H5新增</li>
</ol>
<p>element.dataset.index或者element.dataset[‘index’]  ie11才开始支持</p>
<p>dataset是一个集合，存放了所有以data开头的自定义属性</p>
<h4 id="更改属性值"><a href="#更改属性值" class="headerlink" title="更改属性值"></a>更改属性值</h4><p>element.属性=’值’</p>
<p>element.setAttribute=(‘属性’，’值’);</p>
<h4 id="移除属性值"><a href="#移除属性值" class="headerlink" title="移除属性值"></a>移除属性值</h4><p>element.removeAttribute(‘属性’);</p>
<h4 id="H5自定义属性"><a href="#H5自定义属性" class="headerlink" title="H5自定义属性"></a>H5自定义属性</h4><p>自定义属性目的：为了保存并使用数据，有些数据可以保存到页面中而不用保存到数据库中</p>
<p>自定义属性容易引起歧义，不容易判断是元素的内置属性还是自定义属性</p>
<p>一般规定data-开头作为属性名如：data-index</p>
<p>如果自定义属性里面有多个-连接的单词，获取的时候采取驼峰命名法</p>
<h2 id="节点操作"><a href="#节点操作" class="headerlink" title="节点操作"></a>节点操作</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>获取元素通常有两种方法</p>
<ol>
<li>利用DOM提供的方法获取元素  逻辑性不强</li>
<li>利用节点层级关系获取元素  利用父子兄节点关系获取元素，逻辑性强但是兼容性较差</li>
</ol>
<p>网页中所有内容都是节点，在DOM中，节点使用node表示，节点至少拥有nodeType节点类型、nodeName节点名称、nodeValue节点值三个基本属性</p>
<ul>
<li>元素节点nodetype为1</li>
<li>属性节点2</li>
<li>文本节点3（包括文字、空格、换行等）</li>
</ul>
<p>实际开发中，节点操作主要操作的是元素节点</p>
<h3 id="通过节点层级获取节点"><a href="#通过节点层级获取节点" class="headerlink" title="通过节点层级获取节点"></a>通过节点层级获取节点</h3><p>利用DOM树把节点划分为不同的层级关系，最常见的是父子兄层级</p>
<p><strong>父亲节点</strong>：</p>
<ul>
<li>node.parentNode</li>
</ul>
<p>返回的是最近的父节点，如果找不到就返回空</p>
<p><strong>子节点</strong>：</p>
<ul>
<li>parentNode.childNodes</li>
</ul>
<p>得到的所有的子节点，包括文本节点（换行也会被计算进去）</p>
<p>如果想获取元素节点，需要专门处理（检测nodeType），一般不提倡使用</p>
<ul>
<li>parentNode.children(<strong>非标准</strong>)，开发中常用</li>
</ul>
<p><strong>第一个子节点</strong>：</p>
<ul>
<li>parentNode.firstChild  返回第一个子节点，会返回文本</li>
<li>parentNode.firstElementChild   返回第一个子元素节点</li>
<li>parentNode.lastElementChild   返回最后一个子元素节点</li>
</ul>
<p>有兼容性问题，IE9以上支持</p>
<p><strong>实际开发</strong>的写法 既 没有兼容性问题又返回第一个元素</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">node.children[0]</span><br><span class="line">node.children[node.children.length-1]</span><br></pre></td></tr></table></figure>

<p><strong>兄弟节点</strong>：</p>
<ul>
<li>node.nextSibling</li>
</ul>
<p>得到的是下一个兄弟节点，包含元素节点和文本节点等等</p>
<ul>
<li>node.previousSibling</li>
</ul>
<p>返回上一个兄弟节点，找不到返回null</p>
<ul>
<li>node.nextElementSibling  下一个元素节点</li>
<li>node.previousElementSibling  上一个元素节点</li>
</ul>
<p>有兼容性问题，只能自己封装一个兼容性的函数</p>
<h3 id="创建节点"><a href="#创建节点" class="headerlink" title="创建节点"></a>创建节点</h3><ul>
<li>document.createElement(‘tagment’)  动态创建节点</li>
<li>node.appendChild(child)  添加一个节点到指定父节点的子节点列表<strong>末尾</strong>，类似数组中的push</li>
<li>node.insertBefore(child,指定元素)   将一个节点插入指定元素前面</li>
<li>想要页面添加新元素 ；创建；添加</li>
</ul>
<h3 id="删除节点"><a href="#删除节点" class="headerlink" title="删除节点"></a>删除节点</h3><p>parentNode.removeChild(子节点);</p>
<h3 id="复制节点"><a href="#复制节点" class="headerlink" title="复制节点"></a>复制节点</h3><p>node.cloneNode()</p>
<p>把node节点复制一份，如果括号参数为空或者false，默认是浅拷贝，只复制标签，不复制内容</p>
<h3 id="三种方式动态创建元素区别"><a href="#三种方式动态创建元素区别" class="headerlink" title="三种方式动态创建元素区别"></a>三种方式动态创建元素区别</h3><ul>
<li>document.write()直接将内容写入页面的内容流，但是如果文档流已经执行完毕，则它会导致页面全部重绘</li>
<li>innerHTML如果采取拼接字符串的方式，需要大量拼接字符串，效率较低，如果采用数组格式拼接，效率高，结构稍微复杂</li>
<li>creatElement创建多个元素效率稍低一点点，但是结果更清晰</li>
</ul>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>创建</p>
<p>document.write</p>
<p>innerHTML</p>
<p>createElement</p>
<p>增</p>
<p>appendchild</p>
<p>insertBefore</p>
<p>删</p>
<p>removeChild</p>
<p>改</p>
<ol>
<li>修改元素属性：src、href、title</li>
<li>修改普通元素内容：innerHTML、innerText</li>
<li>修改表单元素: value、type、disabled</li>
<li>修改元素样式：style、className</li>
</ol>
<p>查</p>
<ol>
<li>DOM提供的API:getElementById、getElementByTagName</li>
<li>H5提供的新方法 querySelector querySelectAll</li>
<li>利用节点操作：parentNode、children、previousElementSibling、nextElementSibling</li>
</ol>
<p>属性操作</p>
<ol>
<li>setAttribute:</li>
<li>getAttribute:</li>
<li>removeAttribute:</li>
</ol>
<p>事件操作</p>
<p>鼠标事件–</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JS案例-仿京东放大镜效果</title>
    <url>/2021/03/12/JS%E6%A1%88%E4%BE%8B-%E4%BB%BF%E4%BA%AC%E4%B8%9C%E6%94%BE%E5%A4%A7%E9%95%9C%E6%95%88%E6%9E%9C/</url>
    <content><![CDATA[<p>本案例可以实现：当鼠标放在图片上时，图片上出现跟随鼠标移动的遮挡层，同时右边会出现一个放大的图片，展现出放大镜效果</p>
<span id="more"></span>

<ol>
<li>鼠标经过小盒子，黄色的遮挡层和大图片盒子显示，离开隐藏</li>
<li>遮挡层跟随鼠标</li>
<li>移动黄色遮挡层，大盒子跟着移动</li>
</ol>
<p>*如果js分开一个文件写，必须加</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">window.addEventListener(&#39;load&#39;,function()&#123;&#125;)</span><br></pre></td></tr></table></figure>

<p>先加载完再执行js</p>
<ul>
<li>比例关系：大图片移动距离=遮挡层移动距离*大图片移动距离/遮挡层最大移动距离</li>
<li>注意大盒子中图片移动应该与小盒子中遮罩反向移动</li>
</ul>
<p>完整代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;IE&#x3D;edge&quot;&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        .box &#123;</span><br><span class="line">            position: relative;</span><br><span class="line">            width: 400px;</span><br><span class="line">            height: 400px;</span><br><span class="line">            background-color: yellowgreen;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .box&gt;img &#123;</span><br><span class="line">            max-width: 100%;</span><br><span class="line">            max-height: 100%;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .mask &#123;</span><br><span class="line">            display: none;</span><br><span class="line">            position: absolute;</span><br><span class="line">            width: 100px;</span><br><span class="line">            height: 100px;</span><br><span class="line">            background-color: wheat;</span><br><span class="line">            opacity: .8;</span><br><span class="line">            top: 0;</span><br><span class="line">            left: 0;</span><br><span class="line">            border: 1px solid #ccc;</span><br><span class="line">            cursor: move;</span><br><span class="line">            &#x2F;* 鼠标样式变化 *&#x2F;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .big &#123;</span><br><span class="line">            &#x2F;* display: none; *&#x2F;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">            position: absolute;</span><br><span class="line">            width: 500px;</span><br><span class="line">            height: 500px;</span><br><span class="line">            top: 0px;</span><br><span class="line">            left: 410px;</span><br><span class="line">            z-index: 10;</span><br><span class="line">            border: 1px solid #ccc;</span><br><span class="line">            &#x2F;* 保证优先级 *&#x2F;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .big img &#123;</span><br><span class="line">            position: absolute;</span><br><span class="line">            top: 0;</span><br><span class="line">            left: 0;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;box&quot;&gt;</span><br><span class="line">        &lt;img src&#x3D;&quot;images&#x2F;s3.png&quot; alt&#x3D;&quot;&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;mask&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;big&quot;&gt;&lt;img src&#x3D;&quot;images&#x2F;big.jpg&quot; alt&#x3D;&quot;&quot; class&#x3D;&quot;bigImg&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">	&#x2F;&#x2F;js部分见下个代码框</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">box = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.box&#x27;</span>);</span><br><span class="line">mask = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.mask&#x27;</span>);</span><br><span class="line">big = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.big&#x27;</span>);</span><br><span class="line">box.addEventListener(<span class="string">&#x27;mouseover&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;<span class="comment">//鼠标放在盒子里时让mask和big出现</span></span><br><span class="line">    mask.style.display = <span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">    big.style.display = <span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">&#125;);</span><br><span class="line">box.addEventListener(<span class="string">&#x27;mousemove&#x27;</span>, move);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//获取鼠标在盒子内坐标</span></span><br><span class="line">    <span class="keyword">var</span> x = e.pageX - <span class="built_in">this</span>.offsetLeft;</span><br><span class="line">    <span class="keyword">var</span> y = e.pageY - <span class="built_in">this</span>.offsetTop;</span><br><span class="line">    <span class="keyword">var</span> maskX = x - mask.offsetWidth / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">var</span> maskY = y - mask.offsetHeight / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">var</span> maskMax = box.offsetWidth - mask.offsetWidth;<span class="comment">//遮挡层的最大移动距离</span></span><br><span class="line">    <span class="keyword">if</span> (maskX &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        maskX = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (maskX &gt; maskMax) &#123;</span><br><span class="line">        maskX = maskMax;<span class="comment">//x的上限距离左侧的位置</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (maskY &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        maskY = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (maskY &gt; maskMax) &#123;</span><br><span class="line">        maskY = maskMax;<span class="comment">//y的上限距离左侧的位置</span></span><br><span class="line">    &#125;</span><br><span class="line">    mask.style.left = maskX + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">    mask.style.top = maskY + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">    <span class="comment">//大图片移动距离=遮挡层移动距离*大图片移动距离/遮挡层最大移动距离</span></span><br><span class="line">    <span class="keyword">var</span> bigImg = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.bigImg&#x27;</span>);</span><br><span class="line">    <span class="keyword">var</span> bigMax = bigImg.offsetWidth - big.offsetWidth;<span class="comment">//大图片最大移动距离</span></span><br><span class="line">    <span class="keyword">var</span> bigX = maskX * bigMax / maskMax;</span><br><span class="line">    <span class="keyword">var</span> bigY = maskY * bigMax / maskMax;</span><br><span class="line">    bigImg.style.left = -bigX + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">    bigImg.style.top = -bigY + <span class="string">&#x27;px&#x27;</span>;<span class="comment">//应该相反,鼠标左移时图片右移</span></span><br><span class="line">&#125;</span><br><span class="line">box.addEventListener(<span class="string">&#x27;mouseout&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;<span class="comment">//鼠标放在盒子外时让mask和big隐藏</span></span><br><span class="line">    mask.style.display = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">    big.style.display = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JS-5-PC端网页特效</title>
    <url>/2021/03/12/JS-5-PC%E7%AB%AF%E7%BD%91%E9%A1%B5%E7%89%B9%E6%95%88/</url>
    <content><![CDATA[<p>常见offset系列属性作用</p>
<p>常见client系列属性作用</p>
<p>常见scroll系列属性作用</p>
<p>封装简单动画函数</p>
<p>写出网页轮播图案例</p>
<span id="more"></span>

<h2 id="offset"><a href="#offset" class="headerlink" title="offset"></a>offset</h2><p>偏移量，使用offset相关属性可以动态的得到该元素的位置、大小等</p>
<ul>
<li>获得元素距离带有定位父元素的位置</li>
<li>获得元素自身的大小</li>
<li>注意：返回的数值不带单位</li>
</ul>
<p>offsetParent: 返回作为该元素带有定位的父级元素，如果父级都没有定位则返回body</p>
<p>offsetWidth：获取元素的宽，包括内边距、边框、内容</p>
<p>offsetHeight：获取元素的高，包括内边距、边框、内容</p>
<p>offsetLeft:获取元素距离左边位置的值，以带有定位的父亲为准，如果没有父亲或者父亲没有定位则相对body</p>
<p>offsetTop;获取元素距离上面位置的值，以带有定位的父亲为准，如果没有父亲或者父亲没有定位则相对body</p>
<h3 id="offset与style区别"><a href="#offset与style区别" class="headerlink" title="offset与style区别"></a>offset与style区别</h3><ul>
<li>offset可以得到任意样式表的样式值  style只能得到内嵌样式的样式值</li>
<li>offset得到的是数字型，不带单位  style是字符串带单位</li>
<li>offset包含整个盒子，style得到的只是width，不包括padding和border</li>
<li>offset只能读不能写，而width可以赋值</li>
<li>因此，读属性值一般用offset，写属性一般用width</li>
</ul>
<p>案例：获取鼠标在盒子里的坐标</p>
<ol>
<li>获取鼠标在页面内的坐标</li>
<li>获取盒子在页面内的坐标</li>
<li>相减</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var box&#x3D;document.querySelector(&#39;.box&#39;);</span><br><span class="line">box.addEventListener(&#39;mousemove&#39;,function()&#123;&#x2F;&#x2F;鼠标移动事件</span><br><span class="line">    var x&#x3D;e.pageX-this.offsetLeft;</span><br><span class="line">    var y&#x3D;e.pageY-this.offsetTop;</span><br><span class="line">    this.innerHTML&#x3D;&#39;X坐标是&#39;+x+&#39;y坐标是&#39;+y;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>##元素可视区client系列</p>
<p>client是客户端，可动态得到元素边框大小，元素大小等，与offset最大的区别就是不包含边框</p>
<p>clientTop  上边框</p>
<p>clientLeft  左边框</p>
<p>clientWidth</p>
<p>clientHeight  包括padding、内容，不包括边框，返回数值不带单位</p>
<h3 id="立即执行函数"><a href="#立即执行函数" class="headerlink" title="立即执行函数"></a>立即执行函数</h3><p>不需要调用立马能够自己执行的函数</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(function()&#123;&#125;)()    或者  (function()&#123;&#125;())</span><br></pre></td></tr></table></figure>

<ul>
<li>第二个小括号可以看做是调用函数，可以传递参数，外面括号是实参，里面小括号是形参</li>
<li>两种方法使用方法一致</li>
<li>最大的作用就是独立创建了一个作用域，所有变量都是局部变量，不会有命名冲突</li>
</ul>
<p>###淘宝源码分析</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">flexible</span>(<span class="params"><span class="built_in">window</span>, <span class="built_in">document</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> docEl = <span class="built_in">document</span>.documentElement</span><br><span class="line">    <span class="keyword">var</span> dpr = <span class="built_in">window</span>.devicePixelRatio || <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// adjust body font size</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">setBodyFontSize</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">document</span>.body) &#123;</span><br><span class="line">            <span class="built_in">document</span>.body.style.fontSize = (<span class="number">12</span> * dpr) + <span class="string">&#x27;px&#x27;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">document</span>.addEventListener(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, setBodyFontSize)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    setBodyFontSize();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// set 1rem = viewWidth / 10</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">setRemUnit</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> rem = docEl.clientWidth / <span class="number">10</span></span><br><span class="line">        docEl.style.fontSize = rem + <span class="string">&#x27;px&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    setRemUnit()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// reset rem unit on page resize</span></span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">&#x27;resize&#x27;</span>, setRemUnit)</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">&#x27;pageshow&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (e.persisted) &#123;</span><br><span class="line">            setRemUnit()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// detect 0.5px supports</span></span><br><span class="line">    <span class="keyword">if</span> (dpr &gt;= <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> fakeBody = <span class="built_in">document</span>.createElement(<span class="string">&#x27;body&#x27;</span>)</span><br><span class="line">        <span class="keyword">var</span> testElement = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">        testElement.style.border = <span class="string">&#x27;.5px solid transparent&#x27;</span></span><br><span class="line">        fakeBody.appendChild(testElement)</span><br><span class="line">        docEl.appendChild(fakeBody)</span><br><span class="line">        <span class="keyword">if</span> (testElement.offsetHeight === <span class="number">1</span>) &#123;</span><br><span class="line">            docEl.classList.add(<span class="string">&#x27;hairlines&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        docEl.removeChild(fakeBody)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;(<span class="built_in">window</span>, <span class="built_in">document</span>))</span><br></pre></td></tr></table></figure>



<ul>
<li>前进后退、a标签、刷新都会触发load，但是火狐浏览器使用load事件时存在往返缓存，后退按钮不能刷新页面，可以使用pageshow事件触发，这个事件在页面显示时触发，无论页面是否来自缓存，可以根据事件对象的persisted判断是否缓存中页面触发的pageshow事件，这个事件要给window添加</li>
</ul>
<h2 id="元素滚动scroll系列"><a href="#元素滚动scroll系列" class="headerlink" title="元素滚动scroll系列"></a>元素滚动scroll系列</h2><p>scrollTop:  返回被卷去的上侧距离，返回数值不带单位（隐藏的高度）</p>
<p>scrollLeft:  左侧距离，同上</p>
<p>scrollWidth: 返回自身实际宽度，不含边框，返回数值不带单位，包含内容超出盒子的部分</p>
<p>scrollHeight：高度 同上</p>
<p><strong>scroll事件：</strong></p>
<p>‘scroll’  滚动触发的事件</p>
<p><strong>window.pageXOffset:页面被卷曲的头部</strong></p>
<p>兼容性问题：</p>
<ol>
<li>声明了DTD，使用document.documentElement.scrollTop</li>
<li>未声明DTD，使用document.body.scrollTop</li>
<li>新方法window.pageYOffset和window.pageXOffset,IE9开始支持</li>
</ol>
<p>兼容性方案（了解）</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getScroll() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        left: window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0,</span><br><span class="line">        top: window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="三大系列总结"><a href="#三大系列总结" class="headerlink" title="三大系列总结"></a>三大系列总结</h2><ul>
<li><p>offset包含边框，scroll包括文字超出部分</p>
</li>
<li><p>offset一般用于获取元素位置，client常用与获取元素大小，获取滚动距离一般用scroll</p>
</li>
</ul>
<h2 id="mouseenter和mouseover"><a href="#mouseenter和mouseover" class="headerlink" title="mouseenter和mouseover"></a>mouseenter和mouseover</h2><p>mouseover：经过自身盒子会触发，经过子盒子还会触发一次</p>
<p>mouseenter只有经过自身盒子才会触发，因为mouseenter不会冒泡</p>
<h2 id="动画函数封装"><a href="#动画函数封装" class="headerlink" title="动画函数封装"></a>动画函数封装</h2><h3 id="动画实现原理"><a href="#动画实现原理" class="headerlink" title="动画实现原理"></a>动画实现原理</h3><p>通过定时器setInterval()不断移动盒子位置</p>
<ol>
<li>获取盒子当前位置</li>
<li>在盒子当前位置上加移动距离</li>
<li>利用定时器不断重复操作</li>
<li>加一个结束定时器的条件</li>
<li>此元素一定要加定位，因为要使用element.left实现移动</li>
</ol>
<h3 id="动画函数简单封装"><a href="#动画函数简单封装" class="headerlink" title="动画函数简单封装"></a>动画函数简单封装</h3><p>需要传递两个参数，动画对象和移动的距离</p>
<p>可以实现某个对象右移移动到某个位置</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function animate(obj,target)&#123;</span><br><span class="line">	clearInterval(obj.timer)&#x2F;&#x2F;</span><br><span class="line">    obj.timer&#x3D;setInterval(function()&#123;</span><br><span class="line">        if(obj.offsetLeft&gt;&#x3D;target)&#123;</span><br><span class="line">            clearInterval(obj.timer);</span><br><span class="line">        &#125;</span><br><span class="line">        obj.style.left&#x3D;obj.offsetLeft+1+&#39;px&#39;;</span><br><span class="line">    &#125;,30);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>var timer=每次开辟空间浪费资源，且使用obj.timer避免不同调用使用相同的变量timer，因此通过添加属性实现给不同元素添加不同定时器</li>
<li>注意要先清除原来的定时器，只保留当前定时器，避免多次触发动画时创建很多定时器造成不正常现象</li>
</ul>
<h3 id="缓动动画"><a href="#缓动动画" class="headerlink" title="缓动动画"></a>缓动动画</h3><p>让元素的运动速度有所变化，最常见的是让速度慢慢减下来</p>
<p>思路：</p>
<ol>
<li>让盒子每次移动的距离慢慢变小</li>
<li>（目标值-现在的位置）/10   作为每次移动的距离步长即可</li>
<li>停止的条件：让当前盒子位置等于目标位置时停止定时器</li>
</ol>
<p>把每次+1的步长改为慢慢变小的值 即</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function animate(obj,target)&#123;</span><br><span class="line">	clearInterval(obj.timer)&#x2F;&#x2F;</span><br><span class="line">    obj.timer&#x3D;setInterval(function()&#123;</span><br><span class="line">    	var step&#x3D;target-obj.offsetLeft)&#x2F;10;&#x2F;&#x2F;计算步长，要注意不要出现小号,还要考虑负值</span><br><span class="line">    	step&gt;0?Math.ceil(step):Math.floor(step)</span><br><span class="line">        if(obj.offsetLeft&#x3D;&#x3D;target)&#123;&#x2F;&#x2F;修改为等于号</span><br><span class="line">            clearInterval(obj.timer);</span><br><span class="line">        &#125;</span><br><span class="line">        obj.style.left&#x3D;obj.offsetLeft+step+&#39;px&#39;;</span><br><span class="line">    &#125;,30);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>为了实现在多个目标间移动，需要考虑步长正负</p>
<p>###动画函数添加回调函数（重要）</p>
<p>回调函数原理：函数可以作为一个参数，将这个参数传到另一个函数里，当那个函数执行完之后再执行传进去的这个函数，这个过程称为回调</p>
<p>操作方法：输入添加一个函数作为参数，函数执行写在计时器停止的内容里，即可实现执行完动画后执行回调函数</p>
<p>if(callback){</p>
<p>callback()}</p>
<p>如下代码即可实现运动完毕后盒子变颜色</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params">obj, target, callback</span>) </span>&#123;</span><br><span class="line">            <span class="comment">// console.log(callback);  callback = function() &#123;&#125;  调用的时候 callback()</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 先清除以前的定时器，只保留当前的一个定时器执行</span></span><br><span class="line">            <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">            obj.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="comment">// 步长值写到定时器的里面</span></span><br><span class="line">                <span class="comment">// 把我们步长值改为整数 不要出现小数的问题</span></span><br><span class="line">                <span class="comment">// var step = Math.ceil((target - obj.offsetLeft) / 10);</span></span><br><span class="line">                <span class="keyword">var</span> step = (target - obj.offsetLeft) / <span class="number">10</span>;</span><br><span class="line">                step = step &gt; <span class="number">0</span> ? <span class="built_in">Math</span>.ceil(step) : <span class="built_in">Math</span>.floor(step);</span><br><span class="line">                <span class="keyword">if</span> (obj.offsetLeft == target) &#123;</span><br><span class="line">                    <span class="comment">// 停止动画 本质是停止定时器</span></span><br><span class="line">                    <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">                    <span class="comment">// 回调函数写到定时器结束里面</span></span><br><span class="line">                    <span class="keyword">if</span> (callback) &#123;</span><br><span class="line">                        <span class="comment">// 调用函数</span></span><br><span class="line">                        callback();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 把每次加1 这个步长值改为一个慢慢变小的值  步长公式：(目标值 - 现在的位置) / 10</span></span><br><span class="line">                obj.style.left = obj.offsetLeft + step + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line"></span><br><span class="line">            &#125;, <span class="number">15</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> span = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;span&#x27;</span>);</span><br><span class="line">        <span class="keyword">var</span> btn500 = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.btn500&#x27;</span>);</span><br><span class="line">        <span class="keyword">var</span> btn800 = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.btn800&#x27;</span>);</span><br><span class="line"></span><br><span class="line">        btn500.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="comment">// 调用函数</span></span><br><span class="line">            animate(span, <span class="number">500</span>);</span><br><span class="line">        &#125;)</span><br><span class="line">        btn800.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="comment">// 调用函数</span></span><br><span class="line">                animate(span, <span class="number">800</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                    <span class="comment">// alert(&#x27;你好吗&#x27;);</span></span><br><span class="line">                    span.style.backgroundColor = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;)</span><br></pre></td></tr></table></figure>

<h2 id="返回顶部"><a href="#返回顶部" class="headerlink" title="返回顶部"></a>返回顶部</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">window.scroll(0, 0);&#x2F;&#x2F;x,y不跟单位直接写数字就好</span><br></pre></td></tr></table></figure>

<ol>
<li><p>快速滚动到顶端</p>
</li>
<li><p>编写垂直运动的动画函数，点击后目标设为0（y坐标）</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">goBack.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            animate(<span class="built_in">window</span>, <span class="number">0</span>);<span class="comment">//窗口动画，对象是window</span></span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params">obj, target, callback</span>) </span>&#123;</span><br><span class="line">            <span class="comment">// console.log(callback);  callback = function() &#123;&#125;  调用的时候 callback()</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 先清除以前的定时器，只保留当前的一个定时器执行</span></span><br><span class="line">            <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">            obj.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="comment">// 步长值写到定时器的里面</span></span><br><span class="line">                <span class="comment">// 把我们步长值改为整数 不要出现小数的问题</span></span><br><span class="line">                <span class="comment">// var step = Math.ceil((target - obj.offsetLeft) / 10);</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">var</span> step = (target - <span class="built_in">window</span>.pageYOffset) / <span class="number">10</span>;</span><br><span class="line">                step = step &gt; <span class="number">0</span> ? <span class="built_in">Math</span>.ceil(step) : <span class="built_in">Math</span>.floor(step);</span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">window</span>.pageYOffset == target) &#123;</span><br><span class="line">                    <span class="comment">// 停止动画 本质是停止定时器</span></span><br><span class="line">                    <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">                    <span class="comment">// 回调函数写到定时器结束里面</span></span><br><span class="line">                    callback &amp;&amp; callback();<span class="comment">//如果有参数传入才会调用callback</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 把每次加1 这个步长值改为一个慢慢变小的值  步长公式：(目标值 - 现在的位置) / 10</span></span><br><span class="line">                <span class="comment">// obj.style.left = obj.offsetLeft + step + &#x27;px&#x27;;</span></span><br><span class="line">                <span class="built_in">window</span>.scroll(<span class="number">0</span>, <span class="built_in">window</span>.pageYOffset + step);</span><br><span class="line"></span><br><span class="line">            &#125;, <span class="number">15</span>);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>





]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JS案例-网页轮播图</title>
    <url>/2021/03/13/JS%E6%A1%88%E4%BE%8B-%E7%BD%91%E9%A1%B5%E8%BD%AE%E6%92%AD%E5%9B%BE/</url>
    <content><![CDATA[<ol>
<li>鼠标经过轮播图模块，左右按钮提示，离开隐藏左右按钮</li>
<li>点击右侧按钮一次，图片往左播放一张，以此类推，左侧按钮同理</li>
<li>图片播放的同事，下面小圆圈模块跟随一起变化</li>
<li>点击小圆圈，可以播放相应图片</li>
<li>鼠标不经过轮播图，轮播图也会自动播放图片</li>
<li>鼠标经过，轮播图模块自动播放停止</li>
</ol>
<span id="more"></span>

<p>第一步  鼠标经过显示按钮 鼠标离开按钮消失</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//获取元素</span></span><br><span class="line"><span class="keyword">var</span> arrow_l = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.arrow-l&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> arrow_r = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.arrow-r&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> focus = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.focus&#x27;</span>);</span><br><span class="line"><span class="comment">//鼠标经过显示按钮</span></span><br><span class="line">focus.addEventListener(<span class="string">&#x27;mouseenter&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    arrow_l.style.display = <span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">    arrow_r.style.display = <span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">&#125;)</span><br><span class="line">focus.addEventListener(<span class="string">&#x27;mouseleave&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    arrow_l.style.display = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">    arrow_r.style.display = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>第二步：考虑如何动态生成小圆圈 让小圆圈个数与图片个数一致</p>
<p>首先得到ul里图片个数，利用循环动态生成小圆圈，创建节点并插入节点，然后给第一个小圆圈插入current类</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">   <span class="comment">//动态生成小圆圈</span></span><br><span class="line">   <span class="keyword">var</span> ul = focus.querySelector(<span class="string">&#x27;ul&#x27;</span>);<span class="comment">//必须限定focus里面的</span></span><br><span class="line">   <span class="keyword">var</span> ol = focus.querySelector(<span class="string">&#x27;.circle&#x27;</span>);</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ul.children.length; i++) &#123;</span><br><span class="line">       <span class="keyword">var</span> li = <span class="built_in">document</span>.createElement(<span class="string">&#x27;li&#x27;</span>);</span><br><span class="line">       ol.appendChild(li);</span><br><span class="line">       <span class="comment">//[]</span></span><br><span class="line">   &#125;</span><br><span class="line">ol.children[<span class="number">0</span>].className = <span class="string">&#x27;current&#x27;</span>;<span class="comment">//第一个小圆圈默认变色</span></span><br></pre></td></tr></table></figure>

<p>第三步：利用排他思想，实现点击小圆圈变色</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//可以直接在生成小圆圈的同时绑定点击事件</span></span><br><span class="line">li.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ol.children.length; i++) &#123;</span><br><span class="line">        ol.children[i].className = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">this</span>.className = <span class="string">&#x27;current&#x27;</span>;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>第四步：点击小圆圈滚动图片</p>
<p>注意是ul在移动</p>
<p>当点击某个小圆圈，就让图片滚动，移动距离为图片索引号*图片宽度</p>
<p>知识点：索引号如何得到？</p>
<ul>
<li>通过给每个li设定自定义属性点击时获取自定义属性</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> ul = focus.querySelector(<span class="string">&#x27;ul&#x27;</span>);<span class="comment">//必须限定focus里面的</span></span><br><span class="line"><span class="keyword">var</span> ol = focus.querySelector(<span class="string">&#x27;.circle&#x27;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ul.children.length; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> li = <span class="built_in">document</span>.createElement(<span class="string">&#x27;li&#x27;</span>);</span><br><span class="line">    <span class="comment">//通过自定义属性记录小圆圈索引号</span></span><br><span class="line">    li.setAttribute(<span class="string">&#x27;index&#x27;</span>, i);</span><br><span class="line">    ol.appendChild(li);</span><br><span class="line">    <span class="comment">//可以直接在生成小圆圈的同时绑定点击事件</span></span><br><span class="line">    li.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ol.children.length; i++) &#123;</span><br><span class="line">            ol.children[i].className = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">this</span>.className = <span class="string">&#x27;current&#x27;</span>;</span><br><span class="line">        <span class="comment">//点击小圆圈移动图片</span></span><br><span class="line">        <span class="keyword">var</span> index = <span class="built_in">this</span>.getAttribute(<span class="string">&#x27;index&#x27;</span>);</span><br><span class="line">        <span class="keyword">var</span> focusWidth = focus.offsetWidth;</span><br><span class="line">        animate(ul, -index * focusWidth);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>第五步：点击左右按钮滚动</p>
<p>思路：声明一个变量，每点击一次number++</p>
<p>但是当点击次数过多会走到空白区域</p>
<p>如何实现无缝滚动？</p>
<ul>
<li>把ul第一个li复制一份，放到ul后面，当图片滚动到克隆的最后一张的时候不做动画直接快速跳回第一张：left=0，同时num=0；</li>
</ul>
<p>如何克隆第一张图片？</p>
<ul>
<li>利用节点的克隆和添加操作</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">ol.children[<span class="number">0</span>].className = <span class="string">&#x27;current&#x27;</span>;<span class="comment">//第一个小圆圈默认变色</span></span><br><span class="line"><span class="keyword">var</span> firstLi = ul.children[<span class="number">0</span>].cloneNode(<span class="literal">true</span>);</span><br><span class="line">ul.appendChild(firstLi);<span class="comment">//克隆第一张图</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line">arrow_r.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (num == ul.children.length - <span class="number">1</span>) &#123;</span><br><span class="line">        ul.style.left = <span class="number">0</span>;</span><br><span class="line">        num = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    num++;</span><br><span class="line">    animate(ul, -num * focusWidth);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>第六步：点击按钮小圆圈跟随变化</p>
<p>再定义一个变量circle，每次点击一次按钮则++，如果circle==4，说明走到最后这张图片，使circle复原</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> circle = <span class="number">0</span>;</span><br><span class="line">arrow_r.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (num == ul.children.length - <span class="number">1</span>) &#123;</span><br><span class="line">        ul.style.left = <span class="number">0</span>;</span><br><span class="line">        num = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    num++;</span><br><span class="line">    animate(ul, -num * focusWidth);</span><br><span class="line">    <span class="comment">//实现点击按钮小圆圈跟随变化</span></span><br><span class="line">    circle++;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (circle == ol.children.length) &#123;</span><br><span class="line">        circle = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ol.children.length; i++) &#123;</span><br><span class="line">        ol.children[i].className = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ol.children[circle].className = <span class="string">&#x27;current&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>第七步：此时有两个bug</p>
<p>按钮的点击操作和圆点的点击是不同变量，无法共同使用,两个事件的变量需要同步</p>
<p>应该在点击小圆点事件中添加</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">num = index;</span><br><span class="line">circle = index;</span><br></pre></td></tr></table></figure>

<p>第八步:左侧按钮同理</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">arrow_l.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (num == <span class="number">0</span>) &#123;</span><br><span class="line">            num = ul.children.length - <span class="number">1</span>;</span><br><span class="line">            ul.style.left = -num * focusWidth + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        num--;</span><br><span class="line">        animate(ul, -num * focusWidth);</span><br><span class="line">        <span class="comment">//实现点击按钮小圆圈跟随变化</span></span><br><span class="line">        circle--;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (circle &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            circle = ol.children.length - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ol.children.length; i++) &#123;</span><br><span class="line">            ol.children[i].className = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ol.children[circle].className = <span class="string">&#x27;current&#x27;</span>;</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>

<p>第十步 代码优化 相同的可以封装函数</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">circleChange</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ol.children.length; i++) &#123;</span><br><span class="line">        ol.children[i].className = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ol.children[circle].className = <span class="string">&#x27;current&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>三元表达式简化</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">circle = circle &lt; <span class="number">0</span> ? ol.children.length - <span class="number">1</span> : circle;</span><br><span class="line"><span class="comment">// if (circle &lt; 0) &#123;</span></span><br><span class="line"><span class="comment">//     circle = ol.children.length - 1;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>

<p>最后：自动播放！</p>
<p>发现自动播放时和点击右侧按钮很类似</p>
<p>可以手动调用右侧按钮点击事件arrow_r.click()</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">focus.addEventListener(<span class="string">&#x27;mouseenter&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    arrow_l.style.display = <span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">    arrow_r.style.display = <span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">    <span class="built_in">clearInterval</span>(timer);<span class="comment">//鼠标经过停止定时器</span></span><br><span class="line">    timer = none;</span><br><span class="line">&#125;)</span><br><span class="line">focus.addEventListener(<span class="string">&#x27;mouseleave&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    arrow_l.style.display = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">    arrow_r.style.display = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">    timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;<span class="comment">//鼠标离开开启定时器</span></span><br><span class="line">        arrow_r.click();<span class="comment">//手动调用点击事件</span></span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>补充：节流阀</p>
<p>防止轮播图按钮连续点击造成播放过快</p>
<p>目的：当上一个函数动画执行完毕，再去执行下一个函数动画，让事件无法连续触发</p>
<p>利用回调函数，添加一个变量来控制，锁住函数和解锁函数</p>
<ul>
<li>开始设置一个变量var flag=true</li>
<li>if(flag) {flag=false;do something}关闭水龙头</li>
</ul>
<p>利用回调函数  动画执行完毕（使用回调函数），false=true 打开水龙头</p>
<p>完整js代码</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&#x27;load&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//获取元素</span></span><br><span class="line">    <span class="keyword">var</span> arrow_l = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.arrow-l&#x27;</span>);</span><br><span class="line">    <span class="keyword">var</span> arrow_r = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.arrow-r&#x27;</span>);</span><br><span class="line">    <span class="keyword">var</span> focus = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.focus&#x27;</span>);</span><br><span class="line">    <span class="keyword">var</span> focusWidth = focus.offsetWidth;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//鼠标经过显示按钮</span></span><br><span class="line">    focus.addEventListener(<span class="string">&#x27;mouseenter&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        arrow_l.style.display = <span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">        arrow_r.style.display = <span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">        <span class="built_in">clearInterval</span>(timer);<span class="comment">//鼠标经过停止定时器</span></span><br><span class="line">        timer = none;</span><br><span class="line">    &#125;)</span><br><span class="line">    focus.addEventListener(<span class="string">&#x27;mouseleave&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        arrow_l.style.display = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">        arrow_r.style.display = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">        timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;<span class="comment">//鼠标离开开启定时器</span></span><br><span class="line">            arrow_r.click();<span class="comment">//手动调用点击事件</span></span><br><span class="line">        &#125;, <span class="number">2000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//动态生成小圆圈</span></span><br><span class="line">    <span class="keyword">var</span> ul = focus.querySelector(<span class="string">&#x27;ul&#x27;</span>);<span class="comment">//必须限定focus里面的</span></span><br><span class="line">    <span class="keyword">var</span> ol = focus.querySelector(<span class="string">&#x27;.circle&#x27;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ul.children.length; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> li = <span class="built_in">document</span>.createElement(<span class="string">&#x27;li&#x27;</span>);</span><br><span class="line">        <span class="comment">//通过自定义属性记录小圆圈索引号</span></span><br><span class="line">        li.setAttribute(<span class="string">&#x27;index&#x27;</span>, i);</span><br><span class="line">        ol.appendChild(li);</span><br><span class="line">        <span class="comment">//可以直接在生成小圆圈的同时绑定点击事件</span></span><br><span class="line">        li.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ol.children.length; i++) &#123;</span><br><span class="line">                ol.children[i].className = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">this</span>.className = <span class="string">&#x27;current&#x27;</span>;</span><br><span class="line">            <span class="comment">//点击小圆圈移动图片</span></span><br><span class="line">            <span class="keyword">var</span> index = <span class="built_in">this</span>.getAttribute(<span class="string">&#x27;index&#x27;</span>);</span><br><span class="line">            <span class="comment">//当我们点击了某个li，就要把这个li的索引号给num//////////////////////////////bug必须改</span></span><br><span class="line">            num = index;</span><br><span class="line">            circle = index;</span><br><span class="line">            animate(ul, -index * focusWidth);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    ol.children[<span class="number">0</span>].className = <span class="string">&#x27;current&#x27;</span>;<span class="comment">//第一个小圆圈默认变色</span></span><br><span class="line">    <span class="keyword">var</span> firstLi = ul.children[<span class="number">0</span>].cloneNode(<span class="literal">true</span>);</span><br><span class="line">    ul.appendChild(firstLi);<span class="comment">//克隆第一张图</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> circle = <span class="number">0</span>;<span class="comment">//全局变量</span></span><br><span class="line">    <span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line">    arrow_r.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">            flag = <span class="literal">false</span>;<span class="comment">//关闭节流阀</span></span><br><span class="line">            <span class="keyword">if</span> (num == ul.children.length - <span class="number">1</span>) &#123;</span><br><span class="line">                ul.style.left = <span class="number">0</span>;</span><br><span class="line">                num = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            num++;</span><br><span class="line">            animate(ul, -num * focusWidth, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                flag = <span class="literal">true</span>;<span class="comment">//打开节流阀</span></span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="comment">//实现点击按钮小圆圈跟随变化</span></span><br><span class="line">            circle++;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (circle == ol.children.length) &#123;</span><br><span class="line">                circle = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            circleChange();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    arrow_l.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">if</span> (num == <span class="number">0</span>) &#123;</span><br><span class="line">                num = ul.children.length - <span class="number">1</span>;</span><br><span class="line">                ul.style.left = -num * focusWidth + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            num--;</span><br><span class="line">            animate(ul, -num * focusWidth, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="comment">//实现点击按钮小圆圈跟随变化</span></span><br><span class="line">            circle--;</span><br><span class="line">            circle = circle &lt; <span class="number">0</span> ? ol.children.length - <span class="number">1</span> : circle;</span><br><span class="line">            <span class="comment">// if (circle &lt; 0) &#123;</span></span><br><span class="line">            <span class="comment">//     circle = ol.children.length - 1;</span></span><br><span class="line">            <span class="comment">// &#125;</span></span><br><span class="line">            circleChange();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">circleChange</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ol.children.length; i++) &#123;</span><br><span class="line">            ol.children[i].className = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ol.children[circle].className = <span class="string">&#x27;current&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        arrow_r.click();<span class="comment">//手动调用点击事件</span></span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>animate.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params">obj, target, callback</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// console.log(callback);  callback = function() &#123;&#125;  调用的时候 callback()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 先清除以前的定时器，只保留当前的一个定时器执行</span></span><br><span class="line">    <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">    obj.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 步长值写到定时器的里面</span></span><br><span class="line">        <span class="comment">// 把我们步长值改为整数 不要出现小数的问题</span></span><br><span class="line">        <span class="comment">// var step = Math.ceil((target - obj.offsetLeft) / 10);</span></span><br><span class="line">        <span class="keyword">var</span> step = (target - obj.offsetLeft) / <span class="number">10</span>;</span><br><span class="line">        step = step &gt; <span class="number">0</span> ? <span class="built_in">Math</span>.ceil(step) : <span class="built_in">Math</span>.floor(step);</span><br><span class="line">        <span class="keyword">if</span> (obj.offsetLeft == target) &#123;</span><br><span class="line">            <span class="comment">// 停止动画 本质是停止定时器</span></span><br><span class="line">            <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">            <span class="comment">// 回调函数写到定时器结束里面</span></span><br><span class="line">            <span class="comment">// if (callback) &#123;</span></span><br><span class="line">            <span class="comment">//     // 调用函数</span></span><br><span class="line">            <span class="comment">//     callback();</span></span><br><span class="line">            <span class="comment">// &#125;</span></span><br><span class="line">            callback &amp;&amp; callback();<span class="comment">//借助短路运算如果有参数传入才会调用callback</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 把每次加1 这个步长值改为一个慢慢变小的值  步长公式：(目标值 - 现在的位置) / 10</span></span><br><span class="line">        obj.style.left = obj.offsetLeft + step + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    &#125;, <span class="number">15</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>相关html</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;focus&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;arrow-l&quot;</span>&gt;</span><span class="symbol">&amp;lt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;arrow-r&quot;</span>&gt;</span><span class="symbol">&amp;gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;upload/focus1.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;upload/focus1.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;upload/focus2.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;upload/focus3.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ol</span> <span class="attr">class</span>=<span class="string">&quot;circle&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>相关css</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.focus</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">721px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">455px</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.arrow-l</span>,<span class="selector-class">.arrow-r</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: -<span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">24px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">color</span>:<span class="built_in">rgb</span>(<span class="number">175</span>, <span class="number">170</span>, <span class="number">170</span>);</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">10</span>;</span><br><span class="line">    <span class="attribute">background</span>:<span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, .<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.arrow-l</span> &#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">0</span> <span class="number">30px</span> <span class="number">30px</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.arrow-r</span> &#123;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">30px</span> <span class="number">0</span> <span class="number">0</span> <span class="number">30px</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.focus</span> <span class="selector-tag">ul</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">600%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.focus</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span>&#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.circle</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.circle</span> <span class="selector-tag">li</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#e4e4e4</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.current</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>:  <span class="number">#e4e4e4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
</search>
